{"version":3,"sources":["helpers/CryptoHelper.js","connectors.ts","hooks.ts","helpers/EPNSCoreHelper.js","singletons/ChannelsDataStore.js","components/ViewNotificationItem.js","components/NotificationToast.js","segments/Feedbox.tsx","components/DisplayNotice.js","assets/Device.js","singletons/UsersDataStore.js","components/ViewChannelItem.js","components/Faucets.js","segments/ViewChannels.tsx","components/ViewInfoItem.js","segments/Info.tsx","assets/icons/index.js","components/SendNotifications.tsx","segments/ChannelOwnerDashboard.js","segments/ChannelCreationDashboard.js","pages/Home.js","components/BlockiesIdenticon.js","components/Profile.tsx","components/Bell.js","segments/Header.tsx","App.tsx","serviceWorker.js","index.js","../../contracts/src/addresses.js","../../contracts/src/index.js","components/CreateChannel.js","components/blockies.js","components/SharedStyling.js"],"names":["CryptoJS","require","CryptoHelper","encryptWithAES","message","key","AES","encrypt","toString","decryptWithAES","decrypt","enc","Utf8","encryptWithECIES","publicKey","a","compressedKey","EthCrypto","compress","this","encryptWithPublicKey","encryptedSecret","decryptWithECIES","privateKey","decryptWithPrivateKey","pubKeyUint8Array","Uint8Array","from","Buffer","convertedKeyAsUint8Array","publicKeyConvert","convertedPublicKeyHex","pubKey","then","encryptedBuffers","cipher","iv","ephemPublicKey","ciphertext","mac","input","keyConvert","concat","buf","encrypted","length","keyConvertBuffer","uncompressedKey","twoStripped","substring","encryptedBuffer","decryptedBuffer","encryptionDecryptionPublicToPrivateTest","startTime","Date","console","log","publicKeyByPrivateKey","msg","encryptionTime","getTime","decryptMsg","decryptionTime","outputMsgPayload","secret","subject","calltoaction","imageurl","pkey","secretEncrypted","asubE","amsgE","actaE","aimgE","makeid","result","toISOString","characters","charactersLength","i","charAt","Math","floor","random","config","RPC_URLS","3","process","REACT_APP_RPC_URL_3","injected","InjectedConnector","supportedChainIds","walletconnect","WalletConnectConnector","rpc","bridge","qrcode","pollingInterval","ledger","LedgerConnector","chainId","url","portis","TrezorConnector","manifestEmail","manifestAppUrl","PortisConnector","dAppId","networks","EPNSCoreHelper","getOwnerInfo","contract","Promise","resolve","reject","governance","response","catch","err","getUserInfo","user","users","mappings","addr","getChannelAddressFromID","channelID","mapAddressChannels","getChannelInfo","channel","channels","getChannelEvent","startBlock","updateBlock","filter","filters","AddChannel","block","UpdateChannel","queryFilter","filteredResponse","forEach","item","args","ethers","utils","toUtf8String","identity","getJsonFileFromIdentity","ids","split","fetch","json","getChannelJsonFromChannelAddress","channelStartBlock","toNumber","channelUpdateBlock","getChannelJsonFromUserAddress","getTotalNumberOfChannels","channelsCount","getChannelsMetaLatestToOldest","atIndex","numChannels","channelsInfo","channelArrays","assignedChannelID","push","promises","map","all","getTotalNumberOfUsers","usersCount","getPublicKey","address","getSubscribedStatus","memberExists","getTotalSubscribedChannels","subscribedCount","getFairShareOfUserAtBlock","userActivated","calcAllChannelsRatio","getPoolFunds","poolFunds","formatBigNumberToMetric","bignumber","convertToCurrency","div","metricFormatter","e","num","digits","si","value","symbol","toFixed","replace","ChannelEvents","ChannelsDataStore","state","channelsMeta","channelsJson","callbacks","account","epnsReadProvider","init","resetChannelsListeners","initChannelsListenersAsync","getChannelsCountAsync","removeAllListeners","listenForAddChannelAnyAsync","listenForAddChannelSelfAsync","listenForUpdateChannelAnyAsync","listenForUpdateChannelSelfAsync","listenForSubscribeAnyAsync","listenForSubscribeSelfAsync","listenForUnsubscribeAnyAsync","listenForUnsubscribeSelfAsync","on","ipfs","incrementChannelsCountAsync","Object","entries","callback","Subscribe","count","memberCount","bigNumberify","Unsubscribe","addCallbacks","callbackType","callbackID","removeCallbacks","incrementCount","getChannelsMetaAsync","startIndex","pageCount","stopIndex","channelIDs","getChannelMetaAsync","channelMetaData","channelAddress","getChannelMetaViaAddressAsync","getChannelJsonAsync","instance","ChannelDetailsWrapper","styled","Container","SkeletonWrapper","props","atW","atH","borderRadius","marginBottom","marginRight","ChannelTitle","ChannelTitleLink","ChannelDesc","ChannelDescLabel","label","ChannelMeta","ChannelMetaBox","Pool","PoolShare","ViewNotificationItem","notificationObject","useWeb3React","library","React","useState","notification","setNotification","loading","setLoading","useEffect","notifications","id","color","width","height","notificationTitle","notificationBody","indexTimeStamp","moment","utc","parseInt","local","format","Toaster","NotificationToast","clearToast","LoaderToast","toast","dark","onClick","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Items","Feedbox","setNotifications","finishedFetching","setFinishedFetching","showToast","currentPage","setCurrentPage","loadNotifications","body","axios","post","data","parsedNotification","results","parseAPINotifications","oldNotifications","finally","subscribe","handlePagination","prevPage","newPage","newNotification","onReceive","existingNotifications","fn","event","cb","eventChannelAddress","eventUserAddress","identityHex","userAddress","hex2ascii","notificationId","toLocaleLowerCase","ipfsId","channelJson","ipfsNotification","now","title","name","type","isSubscribed","off","bind","oneAPINotification","payloadId","payload_id","payload","amsg","timeStamp","matches","match","oneNotification","index","Number","showWayPoint","onEnter","Notice","span","theme","css","DisplayNotice","animationIn","animationOut","durationOut","size","Device","mobileS","mobileM","mobileL","tablet","laptop","laptopL","desktop","desktopL","UserEvents","UsersDataStore","userMeta","ownerMeta","resetUsersListeners","initUsersListenersAsync","getOwnerMetaAsync","getUsersCountAsync","getUserMetaAsync","listenForSubscribedAsync","listenForUnsubscribedAsync","publicKeyRegistered","listenForPublicKeyBroadcastAsync","add","sub","PublicKeyRegistered","once","incrementUsersCountAsync","ChannelLogo","ChannelLogoOuter","ChannelLogoInner","ChannelLogoImg","img","ChannelInfo","Subscribers","SubscribersCount","LineBreak","ChannelActions","ChannelActionButton","button","disabled","ActionTitle","hideit","ActionLoader","SkeletonButton","SubscribeButton","UnsubscribeButton","OwnerButton","ToasterMsg","ViewChannelItem","channelObject","isOwner","epnsWriteProvide","setChannelJson","subscribed","setSubscribed","txInProgress","setTxInProgress","fetchChannelJson","registerCallbacks","subs","subscribeAction","getSigner","signMessage","signature","recoverPublicKey","arrayify","hashMessage","formattedPubKey","slice","error","withPublicKey","subscribeWithPublicKey","tx","txToast","waitForTransaction","hash","update","render","TYPE","SUCCESS","ERROR","unsubscribeAction","unsubscribe","src","icon","href","target","rel","info","poolContribution","Faucets","margin","self","bg","radius","padding","border","overflow","align","pos","top","right","weight","direction","spacing","textAlign","textTransform","ContainerInfo","ViewChannels","controlAt","setChannels","setChannelLength","paginatedChannels","setPaginatedChannels","setUser","owner","setOwner","page","setPage","channelsVisited","fetchInitialsChannelMeta","prev","updateCurrentPage","loadMoreChannelMeta","ownerAddr","totalChannelsLength","newPageNumber","startingPoint","moreChannels","oldChannels","keys","channellized","AppLink","AppLinkText","ViewInfoItem","REACT_APP_IOS_STAGING_DAPP_URL","REACT_APP_ANDROID_STAGING_DAPP_URL","dotenv","InfoBox","Info","CloseIcon","xmlns","viewBox","data-name","transform","x2","fill","stroke","stroke-linecap","stroke-width","y2","NFTypes","LIMITER_KEYS","DropdownStyledParent","MultiRecipientsContainer","DropdownStyled","Dropdown","SendNotifications","active","nfProcessing","setNFProcessing","nfRecipient","setNFRecipient","multipleRecipients","setMultipleRecipients","tempRecipeint","setTempRecipient","nfType","setNFType","nfSub","setNFSub","nfSubEnabled","setNFSubEnabled","nfMsg","setNFMsg","nfCTA","setNFCTA","nfCTAEnabled","setNFCTAEnabled","nfMedia","setNFMedia","nfMediaEnabled","setNFMediaEnabled","nfInfo","setNFInfo","includes","bodyValidated","notificationToast","validated","handleSendMessage","preventDefault","signer","Contract","addresses","epnscore","abis","nsub","nmsg","asub","acta","aimg","k","publickey","storagePointer","isEmpty","jsonPayload","JSON","stringify","at","identityBytes","toUtf8Bytes","anotherSendTxPromise","sendNotification","INFO","wait","field","trim","flex","justify","onSubmit","minWidth","options","onChange","option","placeholder","display","Switch","checked","required","z","oneRecipient","recipientAddress","filteredRecipients","rec","removeRecipient","onKeyPress","oldRecipients","Array","Set","text","borderBottom","rows","autocomplete","cursor","ChannelOwnerDashboard","ChannelCreationDashboard","CreateChannel","Controls","ControlButton","ControlImage","ControlText","ControlChannelContainer","ControlChannelImage","ControlChannelText","Interface","Home","setBadgeCount","bellPressed","ReactGA","pageview","setEpnsReadProvider","epnsWriteProvider","setEpnsWriteProvider","setControlAt","adminStatusLoaded","setAdminStatusLoaded","channelAdmin","setChannelAdmin","contractInstance","signerInstance","userClickedAt","checkUserForChannelRights","controlIndex","listenerForChannelRights","BlockiesIdenticon","seed","opts","bgcolor","scale","spotcolor","draw","prevProps","blockies","canvas","createElement","ref","Component","Blocky","BlockyInner","Wallet","Profile","setAddress","ens","setENS","ensFetched","setENSFetched","lookupAddress","toLowerCase","tadaaa","keyframes","BellImage","ringme","BellImageAbs","Badge","Bell","badgeCount","bellPressedCB","badge","setBadge","ring","setRing","setResetRinger","setTimeout","className","HeaderContainer","Section","Logo","PrimaryTheme","ThirdTheme","Connection","phase","Header","context","deactivate","showLoginControls","setShowLoginControls","NoEthereumProviderError","UnsupportedChainIdError","UserRejectedRequestErrorInjected","getErrorMessage","web3Connectors","Injected","obj","logo","WalletConnect","Ledger","Portis","getLibrary","provider","connector","providers","Web3Provider","App","activate","setBellPressed","initialize","activatingConnector","setActivatingConnector","triedEager","tried","setTried","isAuthorized","useEagerConnect","suppress","ethereum","window","handleConnect","handleChainChanged","handleAccountsChanged","accounts","handleNetworkChanged","networkId","removeListener","useInactiveListener","ParentContainer","HomeContainer","ProviderLogo","srcSet","maxWidth","currentConnector","image","ProviderButton","ProviderImage","newestOnTop","rtl","pauseOnFocusLoss","header","ToastContainer","attrs","Boolean","location","hostname","client","ApolloClient","uri","cache","InMemoryCache","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","ceaErc20","dai","aDai","staking","yieldFarmPUSH","yieldFarmLP","epnsToken","epnsLPToken","rockstar","batchMintNFT","NFTRewards","distributor","erc20","erc20Abi","ownable","ownableAbi","epnscoreAbi","daiAbi","epnsTokenAbi","stakingAbi","yieldFarming","yieldFarmingAbi","rockstarAbi","erc721","ec721Abi","MerkleDistributorAbi","Step","activeBG","Line","h1","Minter","Input","textarea","processing","setProcessing","processingInfo","setProcessingInfo","uploadDone","setUploadDone","stakeFeesChoosen","setStakeFeesChoosen","channelInfoDone","setChannelInfoDone","channelName","setChannelName","channelAlias","setChannelAlias","channelInfo","setChannelInfo","channelURL","setChannelURL","channelFile","setChannelFile","channelStakeFees","setChannelStakeFees","stepFlow","setStepFlow","handleLogoSizeLimitation","base64","sizeOf","base64Data","pop","dimensions","success","handleCreateChannel","alias","blockchain","chain_id","daiContract","fees","parseUnits","sendTransactionPromise","approve","createChannelWithFees","mintDai","amount","mintTransactionPromise","mint","onChangeStatus","status","meta","file","files","allFiles","f","reader","FileReader","readAsDataURL","onloadend","onDrop","maxFiles","multiple","accept","defaultValue","onChangeCommitted","aria-labelledby","valueLabelDisplay","step","marks","min","max","maxlength","randseed","rand","t","createColor","buildOpts","newOpts","pow","charCodeAt","seedrand","renderIcon","imageData","dataWidth","ceil","mirrorWidth","y","row","x","r","reverse","createImageData","sqrt","cc","getContext","fillStyle","fillRect","col","api","create","module","exports","section","gradient","Content","ItemBreak","Item","wrap","filterHover","hover","tabletAlign","tabletTextAlign","ItemH","H2","bottom","arcRGB","h2","family","H3","h3","P","p","Span","left","B","Anchor","ul","li","hoverBG","A","Button","FormSubmision","opacity","tabletRight","tabletLeft","tabletTop","tabletBottom","tabletTransform","tabletOpacity","form","outline","hand","TextField"],"mappings":"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","file":"static/js/main.9e784786.chunk.js","sourcesContent":["import EthCrypto from 'eth-crypto';\r\nimport {encrypt, decrypt} from 'eccrypto';\r\nimport { publicKeyConvert, publicKeyVerify } from 'secp256k1-v4';\r\n\r\nvar CryptoJS = require(\"crypto-js\");\r\n\r\nconst CryptoHelper = {\r\n  // To Encrypt with AES\r\n  encryptWithAES: function(message, key) {\r\n    return CryptoJS.AES.encrypt(message, key).toString();\r\n  },\r\n  // To Decrypt with AES\r\n  decryptWithAES: function(message, key) {\r\n    let bytes  = CryptoJS.AES.decrypt(message, key);\r\n    return bytes.toString(CryptoJS.enc.Utf8);\r\n  },\r\n  // To Form Encryted Secret, no more than 15 characters supported\r\n  encryptWithECIES: async function(message, publicKey) {\r\n    const compressedKey = EthCrypto.publicKey.compress(publicKey);\r\n\r\n    const encryptedSecret = await this.encryptWithPublicKey(message, compressedKey);\r\n\r\n    // Not using it since sqlite2 has some error with this\r\n    // const compressedEncryptedSecret = EthCrypto.hex.compress(encryptedSecret);\r\n\r\n    return encryptedSecret;\r\n  },\r\n  // To Form Decrypted Secret, no more than 15 characters supported\r\n  decryptWithECIES: async function(message, privateKey) {\r\n    // Message is always compressed, not using because sqlite2 has some error with this\r\n    //const uncompressedMessage = EthCrypto.hex.decompress(message).substr(2); // to remove 0x\r\n\r\n    return await this.decryptWithPrivateKey(message, privateKey);\r\n  },\r\n  // Encryption with public key\r\n  encryptWithPublicKey: async function(message, publicKey) {\r\n    // Convert compressed public key, starts with 03 or 04\r\n    const pubKeyUint8Array = Uint8Array.from(\r\n      new Buffer(publicKey, 'hex')\r\n    );\r\n    //console.log(\"[ENCRYPTION] Public Key Uint8Array: \" + pubKeyUint8Array);\r\n\r\n    const convertedKeyAsUint8Array = publicKeyConvert(pubKeyUint8Array, false);\r\n    //console.log(\"[ENCRYPTION] Public Key Converted: \" + convertedKeyAsUint8Array);\r\n\r\n    const convertedPublicKeyHex = new Buffer(convertedKeyAsUint8Array);\r\n    //console.log(\"[ENCRYPTION] Converted Public Key Buffer: \" + convertedPublicKeyHex);\r\n\r\n    const pubKey = new Buffer(convertedPublicKeyHex, 'hex');\r\n    //console.log(\"[ENCRYPTION] pubkey getting sentout for encrypt: \" + pubKey);\r\n\r\n    return encrypt(\r\n        pubKey,\r\n        Buffer(message)\r\n    ).then(encryptedBuffers => {\r\n      const cipher = {\r\n          iv: encryptedBuffers.iv.toString('hex'),\r\n          ephemPublicKey: encryptedBuffers.ephemPublicKey.toString('hex'),\r\n          ciphertext: encryptedBuffers.ciphertext.toString('hex'),\r\n          mac: encryptedBuffers.mac.toString('hex')\r\n      };\r\n      // use compressed key because it's smaller\r\n      // const compressedKey = new Buffer.from(publicKeyConvert(Web3Helper.getUint8ArrayFromHexStr(cipher.ephemPublicKey), true)).toString('hex')\r\n      const input = Uint8Array.from(\r\n        new Buffer(cipher.ephemPublicKey, 'hex')\r\n      );\r\n      const keyConvert = publicKeyConvert(input, true)\r\n      // console.log(\"[ENCRYPTION] Coverted key: \" + keyConvert);\r\n\r\n      const keyConvertBuffer = new Buffer(keyConvert);\r\n      // console.log(\"[ENCRYPTION] Coverted key in buffer : \" + keyConvertBuffer);\r\n      // console.log(keyConvertBuffer);\r\n\r\n      //console.log(keyConvert);\r\n      const compressedKey = keyConvertBuffer.toString('hex')\r\n      // console.log(\"[ENCRYPTION] Compressed key in buffer : \");\r\n      // console.log(compressedKey);\r\n\r\n      const ret = Buffer.concat([\r\n        new Buffer(cipher.iv, 'hex'), // 16bit\r\n        new Buffer(compressedKey, 'hex'), // 33bit\r\n        new Buffer(cipher.mac, 'hex'), // 32bit\r\n        new Buffer(cipher.ciphertext, 'hex') // var bit\r\n      ]).toString('hex')\r\n\r\n      return ret\r\n    });\r\n  },\r\n  // Decryption with public key\r\n  decryptWithPrivateKey: async function(message, privateKey) {\r\n    let encrypted = message;\r\n    const buf = new Buffer(encrypted, 'hex');\r\n    // console.log(\"[DECRYPTION] Buffer Passed: \" + buf);\r\n\r\n    encrypted = {\r\n      iv: buf.toString('hex', 0, 16),\r\n      ephemPublicKey: buf.toString('hex', 16, 49),\r\n      mac: buf.toString('hex', 49, 81),\r\n      ciphertext: buf.toString('hex', 81, buf.length)\r\n    };\r\n    // decompress publicKey\r\n    // encrypted.ephemPublicKey = new Buffer.from(publicKeyConvert(Web3Helper.getUint8ArrayFromHexStr(encrypted.ephemPublicKey), true)).toString('hex')\r\n    const input = Uint8Array.from(new Buffer(encrypted.ephemPublicKey, 'hex'));\r\n    const keyConvert = publicKeyConvert(input, false)\r\n    // console.log(\"[DECRYPTION] Coverted key: \" + keyConvert);\r\n\r\n    const keyConvertBuffer = new Buffer(keyConvert);\r\n    // console.log(\"[DECRYPTION] Coverted key in buffer : \" + keyConvertBuffer);\r\n    // console.log(keyConvertBuffer);\r\n\r\n    //console.log(keyConvert);\r\n    const uncompressedKey = keyConvertBuffer.toString('hex')\r\n    // console.log(\"[DECRYPTION] Uncompressed key in buffer : \");\r\n    // console.log(uncompressedKey);\r\n\r\n    encrypted.ephemPublicKey = uncompressedKey;\r\n    const twoStripped = privateKey.substring(2)\r\n\r\n    const encryptedBuffer = {\r\n      iv: new Buffer(encrypted.iv, 'hex'),\r\n      ephemPublicKey: new Buffer(encrypted.ephemPublicKey, 'hex'),\r\n      ciphertext: new Buffer(encrypted.ciphertext, 'hex'),\r\n      mac: new Buffer(encrypted.mac, 'hex')\r\n    };\r\n\r\n    return decrypt(\r\n      new Buffer(twoStripped, 'hex'),\r\n      encryptedBuffer\r\n    ).then(decryptedBuffer => decryptedBuffer.toString());\r\n  },\r\n  // Testing of Encryption and Decryption from Public to Private key\r\n  encryptionDecryptionPublicToPrivateTest: async function(privateKey) {\r\n    const startTime = new Date();\r\n    console.log(\"[ENCRYPTION / DECRYPTION TEST STARTED] - \" + startTime);\r\n\r\n    const publicKey = EthCrypto.publicKeyByPrivateKey(privateKey);\r\n    const compressedKey = EthCrypto.publicKey.compress(publicKey); // is String\r\n    //console.log(compressedKey);\r\n\r\n    // const bytesCompKey = Uint8Array.from(compressedKey);\r\n    //console.log(bytesCompKey);\r\n\r\n    const msgToEncrypt = \"PartialStringAS\";\r\n    const msg = await this.encryptWithPublicKey(msgToEncrypt, compressedKey);\r\n    console.log(\"Encryped Message With compressed public key:\" + msg);\r\n\r\n    const encryptionTime = new Date().getTime() - startTime.getTime();\r\n    console.log(\"[ENCRYPTION / DECRYPTION ENCRYPTION DONE] - \" + encryptionTime / 1000 + \" secs\");\r\n\r\n    // Decrypt this message\r\n    const decryptMsg = await this.decryptWithPrivateKey(msg, privateKey);\r\n    console.log(\"[ENCRYPTION / DECRYPTION DECRYPTED MESSAGE] - '\" + decryptMsg + \"'\");\r\n\r\n    const decryptionTime = new Date().getTime() - startTime.getTime() - encryptionTime;\r\n    console.log(\"[ENCRYPTION / DECRYPTION DECRYPTION DONE] - \" + decryptionTime / 1000 + \" secs\");\r\n  },\r\n  // To output messge payload if required\r\n  outputMsgPayload: async function(secret, subject, message, calltoaction, imageurl, pkey) {\r\n    // Output AES\r\n    console.log(\"[AES ENCRYTED FORMAT (\" + new Date() + \")\");\r\n    console.log(\"---------------------\");\r\n    console.log(\"secret --> \");\r\n    const secretEncrypted = await this.encryptWithECIES(secret, pkey);\r\n    const asubE = this.encryptWithAES(subject, secret);\r\n    const amsgE = this.encryptWithAES(message, secret);\r\n    const actaE = this.encryptWithAES(calltoaction, secret);\r\n    const aimgE = this.encryptWithAES(imageurl, secret);\r\n\r\n    console.log(secretEncrypted);\r\n    console.log(\"asub --> \");\r\n    console.log(asubE);\r\n    console.log(\"amsg --> \");\r\n    console.log(amsgE);\r\n    console.log(\"acta --> \");\r\n    console.log(actaE);\r\n    console.log(\"aimg --> \");\r\n    console.log(aimgE);\r\n    console.log(\"decrypted secret --> \");\r\n    console.log(await this.decryptWithECIES(secretEncrypted, pkey));\r\n    console.log(\"decrypted asub --> \");\r\n    console.log(this.decryptWithAES(asubE, secret));\r\n    console.log(\"decrypted amsg --> \");\r\n    console.log(this.decryptWithAES(amsgE, secret));\r\n    console.log(\"decrypted acta --> \");\r\n    console.log(this.decryptWithAES(actaE, secret));\r\n    console.log(\"decrypted aimg --> \");\r\n    console.log(this.decryptWithAES(aimgE, secret));\r\n  },\r\n  makeid: function (length) {\r\n     var result           = '[' + new Date().toISOString() + '] ';\r\n     var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n     var charactersLength = characters.length;\r\n     for ( var i = 0; i < length; i++ ) {\r\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n     }\r\n     return result;\r\n  }\r\n};\r\n\r\nexport default CryptoHelper;\r\n","import { InjectedConnector } from '@web3-react/injected-connector'\r\nimport { PortisConnector } from '@web3-react/portis-connector'\r\n// import { NetworkConnector } from '@web3-react/network-connector'\r\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\r\n// import { WalletLinkConnector } from '@web3-react/walletlink-connector'\r\nimport { LedgerConnector } from '@web3-react/ledger-connector'\r\nimport { TrezorConnector } from '@web3-react/trezor-connector'\r\n// import { FrameConnector } from '@web3-react/frame-connector'\r\n// import { AuthereumConnector } from '@web3-react/authereum-connector'\r\n// import { FortmaticConnector } from '@web3-react/fortmatic-connector'\r\n// import { SquarelinkConnector } from '@web3-react/squarelink-connector'\r\n// import { TorusConnector } from '@web3-react/torus-connector'\r\n\r\nrequire('dotenv').config();\r\n\r\nconst POLLING_INTERVAL = 12000\r\nconst RPC_URLS: { [chainId: number]: string } = {\r\n  3: process.env.REACT_APP_RPC_URL_3 as string\r\n}\r\n\r\nexport const injected = new InjectedConnector({ supportedChainIds: [3] })\r\n\r\n// export const network = new NetworkConnector({\r\n//   urls: { 3: RPC_URLS[3] },\r\n//   defaultChainId: 3,\r\n//   pollingInterval: POLLING_INTERVAL\r\n// })\r\n\r\nexport const walletconnect = new WalletConnectConnector({\r\n  rpc: { 3: RPC_URLS[3] },\r\n  bridge: 'https://bridge.walletconnect.org',\r\n  qrcode: true,\r\n  pollingInterval: POLLING_INTERVAL\r\n})\r\n//\r\n// export const walletlink = new WalletLinkConnector({\r\n//   url: RPC_URLS[1],\r\n//   appName: 'web3-react example'\r\n// })\r\n//\r\nexport const ledger = new LedgerConnector({ chainId: 3, url: RPC_URLS[3], pollingInterval: POLLING_INTERVAL })\r\n\r\nexport const trezor = new TrezorConnector({\r\n  chainId: 3,\r\n  url: RPC_URLS[3],\r\n  pollingInterval: POLLING_INTERVAL,\r\n  manifestEmail: 'support@epns.io',\r\n  manifestAppUrl: 'https://staging-app.epns.io'\r\n})\r\n\r\n//\r\n// export const frame = new FrameConnector({ supportedChainIds: [1] })\r\n//\r\n// export const authereum = new AuthereumConnector({ chainId: 42 })\r\n//\r\n// export const fortmatic = new FortmaticConnector({ apiKey: process.env.FORTMATIC_API_KEY as string, chainId: 4 })\r\n\r\nexport const portis = new PortisConnector({ dAppId: 'cfefa032-9afd-4833-bfb4-2b0cb7ec3413' as string, networks: [3, 100] })\r\n\r\n// export const squarelink = new SquarelinkConnector({\r\n//   clientId: process.env.SQUARELINK_CLIENT_ID as string,\r\n//   networks: [1, 100]\r\n// })\r\n\r\n// export const torus = new TorusConnector({ chainId: 1 })\r\n","import { useState, useEffect } from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\n\r\nimport { injected } from './connectors'\r\n\r\nrequire('dotenv').config();\r\n\r\nexport function useEagerConnect() {\r\n  const { activate, active } = useWeb3React()\r\n\r\n  const [tried, setTried] = useState(false)\r\n\r\n  useEffect(() => {\r\n    injected.isAuthorized().then((isAuthorized: boolean) => {\r\n      if (isAuthorized) {\r\n        activate(injected, undefined, true).catch(() => {\r\n          setTried(true)\r\n        })\r\n      } else {\r\n        setTried(true)\r\n      }\r\n    })\r\n  }, []) // intentionally only running on mount (make sure it's only mounted once :))\r\n\r\n  // if the connection worked, wait until we get confirmation of that to flip the flag\r\n  useEffect(() => {\r\n    if (!tried && active) {\r\n      setTried(true)\r\n    }\r\n  }, [tried, active])\r\n\r\n  return tried\r\n}\r\n\r\nexport function useInactiveListener(suppress: boolean = false) {\r\n  const { active, error, activate } = useWeb3React()\r\n\r\n  useEffect((): any => {\r\n    const { ethereum } = window as any\r\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\r\n      const handleConnect = () => {\r\n        console.log(\"Handling 'connect' event\")\r\n        activate(injected)\r\n      }\r\n      const handleChainChanged = (chainId: string | number) => {\r\n        console.log(\"Handling 'chainChanged' event with payload\", chainId)\r\n        activate(injected)\r\n      }\r\n      const handleAccountsChanged = (accounts: string[]) => {\r\n        console.log(\"Handling 'accountsChanged' event with payload\", accounts)\r\n        if (accounts.length > 0) {\r\n          activate(injected)\r\n        }\r\n      }\r\n      const handleNetworkChanged = (networkId: string | number) => {\r\n        console.log(\"Handling 'networkChanged' event with payload\", networkId)\r\n        activate(injected)\r\n      }\r\n\r\n      ethereum.on('connect', handleConnect)\r\n      ethereum.on('chainChanged', handleChainChanged)\r\n      ethereum.on('accountsChanged', handleAccountsChanged)\r\n      ethereum.on('networkChanged', handleNetworkChanged)\r\n\r\n      return () => {\r\n        if (ethereum.removeListener) {\r\n          ethereum.removeListener('connect', handleConnect)\r\n          ethereum.removeListener('chainChanged', handleChainChanged)\r\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\r\n          ethereum.removeListener('networkChanged', handleNetworkChanged)\r\n        }\r\n      }\r\n    }\r\n  }, [active, error, suppress, activate])\r\n}\r\n","import React from \"react\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { ethers } from \"ethers\";\r\nimport { parseEther, bigNumber } from 'ethers/utils'\r\n\r\n// FeedDB Helper Function\r\nconst EPNSCoreHelper = {\r\n  // To get owner info\r\n  getOwnerInfo: async (contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.governance()\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getOwnerInfo() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getOwnerInfo() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // To get user info\r\n  getUserInfo: async (user, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.users(user)\r\n        .then(response => {\r\n          const mappings = { ...response };\r\n          mappings.addr = user;\r\n\r\n          if (enableLogs) console.log(\"getUserInfo() --> %o\", mappings);\r\n          resolve(mappings);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getUserInfo() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // To retrieve a channel address from it's id\r\n  getChannelAddressFromID: async (channelID, contract) => {\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      contract.mapAddressChannels(channelID)\r\n        .then(response => {\r\n          console.log(\"getChannelAddressFromID() --> %o\", response.toString());\r\n          resolve(response.toString());\r\n        })\r\n        .catch(err => { console.log(\"!!!Error, getChannelAddressFromID() --> %o\", err); reject(err); });\r\n    })\r\n  },\r\n  // To retrieve a channel's Info from channel address\r\n  getChannelInfo: async (channel, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      contract.channels(channel)\r\n        .then(response => {\r\n          // Add an extra field for future info\r\n          const mappings = { ...response };\r\n          mappings.addr = channel;\r\n\r\n          if (enableLogs) console.log(\"getChannelInfo() --> %o\", mappings);\r\n          resolve(mappings);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelInfo() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // To retrieve a channel's AddChannel event\r\n  getChannelEvent: async (channel, startBlock, updateBlock, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n\r\n      // To get channel ipfs hash from channel info\r\n      let filter = contract.filters.AddChannel(channel);\r\n      let block = startBlock;\r\n      if (startBlock != updateBlock) {\r\n        filter = contract.filters.UpdateChannel(channel);\r\n        block = updateBlock;\r\n      }\r\n\r\n      contract.queryFilter(filter, block, block)\r\n        .then(response => {\r\n          let filteredResponse;\r\n\r\n          if (enableLogs) console.log(\"getChannelEvent() --> Finding: %s in | %o |\", channel, response );\r\n\r\n          response.forEach(function (item) {\r\n            if (item.args.channel.toString() == channel.toString()) {\r\n              if (enableLogs) console.log(\"getChannelEvent() --> Selected Channel %o: \", item);\r\n              filteredResponse = ethers.utils.toUtf8String(item.args.identity);\r\n            }\r\n          });\r\n\r\n          if (enableLogs) console.log(\"getChannelEvent() --> Filtered Channel: %o\", filteredResponse);\r\n          resolve(filteredResponse);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelEvent() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Retrive IPFS File from ipfshash\r\n  getJsonFileFromIdentity: async(identity) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Split Channel Identity, delimeter of identity is \"+\"\r\n      const ids = identity.split(\"+\"); // First segment is storage type, second is the pointer to it\r\n\r\n      if (ids[0] == 1) {\r\n        // IPFS HASH\r\n        // Form Gateway URL\r\n        const url = \"https://ipfs.io/ipfs/\" + ids[1];\r\n        fetch(url)\r\n          .then(response => response.json())\r\n          .then(response => {\r\n            if (enableLogs) console.log(\"getJsonFileFromIdentity() --> %o\", response);\r\n            resolve(response);\r\n          })\r\n          .catch(err => {\r\n            console.log(\"!!!Error, getJsonFileFromIdentity() --> %o\", err);\r\n            reject(err);\r\n          });\r\n      }\r\n\r\n    });\r\n  },\r\n  // Helper to get Channel from Channel's address\r\n  getChannelJsonFromChannelAddress: async (channel, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      EPNSCoreHelper.getChannelInfo(channel, contract)\r\n        .then(response => EPNSCoreHelper.getChannelEvent(channel, response.channelStartBlock.toNumber(), response.channelUpdateBlock.toNumber(), contract))\r\n        .then(response => EPNSCoreHelper.getJsonFileFromIdentity(response))\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getChannelJsonFromChannelAddress() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelJsonFromChannelAddress() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Helper to get Channel from User's address\r\n  getChannelJsonFromUserAddress: async (user, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      EPNSCoreHelper.getUserInfo(user, contract)\r\n        .then(response => EPNSCoreHelper.getChannelJsonFromChannelAddress(user, contract))\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getChannelJsonFromUserAddress() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelJsonFromUserAddress() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Get Total Number of Channels\r\n  getTotalNumberOfChannels: async (contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.channelsCount()\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getTotalNumberOfChannels() --> %o\", response.toNumber());\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getTotalNumberOfChannels() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Get channels address given number of channels, , atIndex: -1 is start from latest, numChannels: -1 is return all\r\n  getChannelsMetaLatestToOldest: async (atIndex, numChannels, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      EPNSCoreHelper.getTotalNumberOfChannels(contract)\r\n        .then(async (response) => {\r\n          let channelsInfo = [];\r\n          const channelsCount = response;\r\n\r\n          if (atIndex > channelsCount || atIndex == -1) {\r\n            atIndex = channelsCount - 1;\r\n          }\r\n\r\n          if (numChannels == -1) {\r\n            numChannels = channelsCount;\r\n          }\r\n\r\n          // Get channels\r\n          let channelArrays = [];\r\n\r\n          // prefil and then refil\r\n          let count = 0;\r\n          for (let i = numChannels - 1; i >= 0; i--) {\r\n            const assignedChannelID = atIndex - i;\r\n            channelArrays.push(assignedChannelID);\r\n          }\r\n\r\n          const promises = channelArrays.map(async (channelID) => {\r\n            await EPNSCoreHelper.getChannelAddressFromID(channelID, contract)\r\n              .then(response => EPNSCoreHelper.getChannelInfo(response, contract))\r\n              .then(response => {\r\n                if (enableLogs) console.log(\"getChannelsMetaLatestToOldest(%d, %d) --> %o\", channelID, numChannels, channelsInfo);\r\n                channelsInfo = [response, ...channelsInfo];\r\n              })\r\n              .catch(err => console.log(\"Error in channel: %d | skipping...\", channelID))\r\n          });\r\n\r\n          // wait until all promises are resolved\r\n          await Promise.all(promises);\r\n\r\n          if (enableLogs) console.log(\"getChannelsMetaLatestToOldest(Index: %d, Number: %d) --> %o\", atIndex, numChannels, channelsInfo);\r\n          resolve(channelsInfo);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelsMetaLatestToOldest() --> %o\", err);\r\n          reject(err);\r\n        })\r\n    });\r\n  },\r\n  // Get Total Number of Users\r\n  getTotalNumberOfUsers: async (contract) => {\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.usersCount()\r\n        .then(response => {\r\n          console.log(\"getTotalNumberOfUsers() --> %o\", response.toNumber());\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => { console.log(\"!!!Error, getTotalNumberOfUsers() --> %o\", err); reject(err); });\r\n    })\r\n  },\r\n  // To retrieve public key of a user\r\n  getPublicKey: async (address, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel ipfs hash from channel info\r\n      let filteredResponse;\r\n      contract.queryFilter('PublicKeyRegistered')\r\n        .then(response => {\r\n\r\n          response.forEach(function (item) {\r\n            if (item.args[0] == address) {\r\n              filteredResponse = item;\r\n            }\r\n          });\r\n\r\n          if (enableLogs) console.log(\"Public Key Registry Response: \" + response);\r\n          if (enableLogs) console.log(\"Public Key Registry Filtered: \" + filteredResponse);\r\n\r\n          if (!filteredResponse || filteredResponse.length == 0) {\r\n            resolve(null)\r\n          }\r\n          else {\r\n            resolve(filteredResponse.args[1]);\r\n          }\r\n\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Get Total Subsbribed Channels\r\n  getSubscribedStatus: async (user, channel, contract) => {\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.memberExists(user, channel)\r\n        .then(response => {\r\n          console.log(\"getSubscribedStatus() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => { console.log(\"!!!Error, getSubscribedStatus() --> %o\", err); reject(err); });\r\n    })\r\n  },\r\n  // Get Total Subsbribed Channels\r\n  getTotalSubscribedChannels: async (user, contract) => {\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.users[user].subscribedCount()\r\n        .then(response => {\r\n          console.log(\"getTotalSubscribedChannels() --> %o\", response.toNumber());\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => { console.log(\"!!!Error, getTotalSubscribedChannels() --> %o\", err); reject(err); });\r\n    })\r\n  },\r\n  // Get Fair Share\r\n  getFairShareOfUserAtBlock: async(user, block, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.users(user)\r\n        .then((response) => {\r\n          if (response.userActivated) {\r\n            contract.calcAllChannelsRatio(user, block)\r\n              .then(response => {\r\n                if (enableLogs) console.log(\"calcAllChannelsRatio() --> %o\", response);\r\n                resolve(response);\r\n              })\r\n              .catch(err => {\r\n                console.log(\"!!!Error, calcAllChannelsRatio() --> %o\", err);\r\n                reject(err);\r\n              });\r\n          }\r\n          else {\r\n            if (enableLogs) console.log(\"!!!Warning, calcAllChannelsRatio() --> User not activated\");\r\n            reject(\"User not activated\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, calcAllChannelsRatio() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Get Pool Funds\r\n  getPoolFunds: async(contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.poolFunds()\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getPoolFunds() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getPoolFunds() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Helper Functions\r\n  // To format Big Number\r\n  formatBigNumberToMetric: (bignumber, convertToCurrency) => {\r\n    try {\r\n      if (convertToCurrency) {\r\n        bignumber = bignumber.div(100000000000000);\r\n        bignumber = bignumber.div(10000);\r\n      }\r\n      bignumber = bignumber.toNumber();\r\n      return EPNSCoreHelper.metricFormatter(bignumber, 2);\r\n    }\r\n    catch (e) {\r\n      console.log(e);\r\n      return \"---\";\r\n    }\r\n  },\r\n  // Metric Formatter, thanks: https://stackoverflow.com/questions/9461621/format-a-number-as-2-5k-if-a-thousand-or-more-otherwise-900\r\n  metricFormatter: (num, digits) => {\r\n    var si = [\r\n      { value: 1, symbol: \"\" },\r\n      { value: 1E3, symbol: \"k\" },\r\n      { value: 1E6, symbol: \"M\" },\r\n      { value: 1E9, symbol: \"G\" },\r\n      { value: 1E12, symbol: \"T\" },\r\n      { value: 1E15, symbol: \"P\" },\r\n      { value: 1E18, symbol: \"E\" }\r\n    ];\r\n    var rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\r\n    var i;\r\n    for (i = si.length - 1; i > 0; i--) {\r\n      if (num >= si[i].value) {\r\n        break;\r\n      }\r\n    }\r\n    return (num / si[i].value).toFixed(digits).replace(rx, \"$1\") + si[i].symbol;\r\n  },\r\n\r\n}\r\n\r\nexport default EPNSCoreHelper;\r\n","import EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\nimport { ethers } from \"ethers\";\r\nimport { bigNumber, bigNumberify } from 'ethers/utils'\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\n\r\n// STATIC SINGLETON\r\nexport const ChannelEvents = {\r\n    ADD_CHANNEL_ANY: \"AddChannelAny\",\r\n    ADD_CHANNEL_SELF: \"AddChannelSelf\",\r\n    UPDATE_CHANNEL_ANY: \"UpdateChannelAny\",\r\n    UPDATE_CHANNEL_SELF: \"UpdateChannelSelf\",\r\n    SUBSCRIBER_ANY_CHANNEL: \"SubscriberAnyChannel\",\r\n    SUBSCRIBER_SELF_CHANNEL: \"SubscriberSelfChannel\",\r\n    UNSUBSCRIBER_ANY_CHANNEL: \"UnsubscriberAnyChannel\",\r\n    UNSUBSCRIBER_SELF_CHANNEL: \"UnsubscriberSelfChannel\",\r\n}\r\n\r\nexport default class ChannelsDataStore {\r\n    static instance = ChannelsDataStore.instance || new ChannelsDataStore();\r\n\r\n    state = {\r\n      channelsCount: -1,\r\n      channelsMeta: {},\r\n      channelsJson: {},\r\n\r\n      callbacks: [],\r\n\r\n      account: null,\r\n      epnsReadProvider: null,\r\n    }\r\n\r\n    // init\r\n    init = (account, epnsReadProvider) => {\r\n      // set account\r\n      this.state.account = account;\r\n\r\n      // First attach listeners then overwrite the old one if any\r\n      this.resetChannelsListeners();\r\n      this.state.epnsReadProvider = epnsReadProvider;\r\n      this.initChannelsListenersAsync();\r\n\r\n      // next get store channels count\r\n      this.getChannelsCountAsync();\r\n    }\r\n\r\n    // RESET LISTENERS\r\n    resetChannelsListeners = () => {\r\n      // only proceed if a read provider is attached\r\n      if (this.state.epnsReadProvider) {\r\n        this.state.epnsReadProvider.removeAllListeners(\"AddChannel\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"UpdateChannel\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"Subscribe\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"Unsubscribe\");\r\n      }\r\n    }\r\n\r\n    // init LISTENERS\r\n    initChannelsListenersAsync = async () => {\r\n      // Add Listeners\r\n      await this.listenForAddChannelAnyAsync();\r\n      await this.listenForAddChannelSelfAsync();\r\n\r\n      await this.listenForUpdateChannelAnyAsync();\r\n      await this.listenForUpdateChannelSelfAsync();\r\n\r\n      await this.listenForSubscribeAnyAsync();\r\n      await this.listenForSubscribeSelfAsync();\r\n      await this.listenForUnsubscribeAnyAsync();\r\n      await this.listenForUnsubscribeSelfAsync();\r\n    }\r\n\r\n    // 1. Add Any Channel Listeners\r\n    listenForAddChannelAnyAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.AddChannel(null, null);\r\n\r\n      contract.on(filter, async (channel, ipfs) => {\r\n        // Do own stuff\r\n        await this.incrementChannelsCountAsync(1);\r\n\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.ADD_CHANNEL_ANY]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.ADD_CHANNEL_ANY])) {\r\n            if (callback) { callback(channel, ipfs); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 2. Add Self Channel Listener\r\n    listenForAddChannelSelfAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.AddChannel(this.state.account, null);\r\n\r\n      contract.on(filter, async (channel, ipfs) => {\r\n        // Do own stuff\r\n        // Nothing to do, just do callback\r\n\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.ADD_CHANNEL_SELF]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.ADD_CHANNEL_SELF])) {\r\n            if (callback) { callback(channel, ipfs); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 3. Update Any Channel Listener\r\n    listenForUpdateChannelAnyAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.UpdateChannel(null, null);\r\n\r\n      contract.on(filter, async (channel, ipfs) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_ANY]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_ANY])) {\r\n            if (callback) { callback(channel, ipfs); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 4. Update Self Channel Listener\r\n    listenForUpdateChannelSelfAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.UpdateChannel(this.state.account, null);\r\n\r\n      contract.on(filter, async (channel, ipfs) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_SELF]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_SELF])) {\r\n            if (callback) { callback(channel, ipfs); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 5. Subscriber Any\r\n    listenForSubscribeAnyAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.Subscribe(null, null);\r\n\r\n      contract.on(filter, async (channel, user) => {\r\n        // Do own stuff\r\n        if (this.state.channelsMeta[channel]) {\r\n          const channelID = this.state.channelsMeta[channel];\r\n          let count = this.state.channelsMeta[channelID].memberCount.toNumber();\r\n          count = count + 1;\r\n          this.state.channelsMeta[channelID].memberCount = bigNumberify(count);\r\n        }\r\n\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.SUBSCRIBER_ANY_CHANNEL]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.SUBSCRIBER_ANY_CHANNEL])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 6. Subscriber Self\r\n    listenForSubscribeSelfAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.Subscribe(this.state.account, null);\r\n\r\n      contract.on(filter, async (channel, user) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.SUBSCRIBER_SELF_CHANNEL]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.SUBSCRIBER_SELF_CHANNEL])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 7. Unsubscribe Any\r\n    listenForUnsubscribeAnyAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.Unsubscribe(null, null);\r\n\r\n      contract.on(filter, async (channel, user) => {\r\n        // Do own stuff\r\n        if (this.state.channelsMeta[channel]) {\r\n          const channelID = this.state.channelsMeta[channel];\r\n          let count = this.state.channelsMeta[channelID].memberCount.toNumber();\r\n          count = count - 1;\r\n          this.state.channelsMeta[channelID].memberCount = bigNumberify(count);\r\n        }\r\n\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.UNSUBSCRIBER_ANY_CHANNEL]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.UNSUBSCRIBER_ANY_CHANNEL])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 8. Unsubscribe Self\r\n    listenForUnsubscribeSelfAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.Unsubscribe(this.state.account, null);\r\n\r\n      contract.on(filter, async (channel, user) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[ChannelEvents.UNSUBSCRIBER_SELF_CHANNEL]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[ChannelEvents.UNSUBSCRIBER_SELF_CHANNEL])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // FOR CALLBACKS\r\n    addCallbacks = (callbackType, callbackID, callback) => {\r\n      // first check if callback already exists\r\n      if (!this.state.callbacks[callbackType]) {\r\n        this.state.callbacks[callbackType] = {};\r\n      }\r\n\r\n      if (!this.state.callbacks[callbackType][callbackID]) {\r\n        this.state.callbacks[callbackType][callbackID] = callback;\r\n      }\r\n    }\r\n\r\n    removeCallbacks = (callbackType, callbackID) => {\r\n      // first check if callback already exists\r\n      if (this.state.callbacks[callbackType][callbackID]) {\r\n        this.state.callbacks[callbackType][callbackID] = null;\r\n      }\r\n    }\r\n\r\n    // CHANNELS COUNT\r\n    getChannelsCountAsync = async () => {\r\n      const enableLogs = 0;\r\n\r\n      return new Promise (async (resolve, reject) => {\r\n        if (this.state.channelsCount == -1) {\r\n          // Count not set, get and set it first\r\n          const count = EPNSCoreHelper.getTotalNumberOfChannels(this.state.epnsReadProvider)\r\n            .then(response => {\r\n              this.state.channelsCount = response;\r\n\r\n              if (enableLogs) console.log(\"getChannelsCountAsync() --> %o\", response);\r\n              resolve(this.state.channelsCount)\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getChannelsCountAsync() --> %o\", err);\r\n              reject(err);\r\n            });\r\n        }\r\n        else {\r\n          resolve(this.state.channelsCount);\r\n        }\r\n      });\r\n    }\r\n\r\n    incrementChannelsCountAsync = async (incrementCount) => {\r\n      return new Promise ((resolve, reject) => {\r\n        this.getChannelsCountAsync()\r\n          .then(response => {\r\n            this.state.channelsCount = response + incrementCount;\r\n            console.log(\"incrementChannelsCountAsync() --> %d\", this.state.channelsCount);\r\n            resolve(this.state.channelsCount)\r\n          })\r\n          .catch(err => { console.log(\"!!!Error, incrementChannelsCountAsync() --> %o\", err); reject(err); });\r\n      });\r\n\r\n    }\r\n\r\n    // CHANNELS META FUNCTIONS\r\n    // To get channels meta\r\n    // get channels meta in a paginated format\r\n    // by passing in the starting index and the number of items per page\r\n    getChannelsMetaAsync = async (startIndex, pageCount) => {\r\n      return new Promise (async (resolve, reject) => {\r\n        // get total number of channels\r\n        const channelsCount = await this.getChannelsCountAsync();\r\n        let stopIndex = startIndex + pageCount;\r\n\r\n        // if the stop index is -1 then get all channels\r\n        if (stopIndex == -1 || stopIndex > channelsCount) {\r\n          stopIndex = channelsCount;\r\n        }\r\n\r\n        // initialise an array with the values from 0 to the length of the number of channels\r\n        let channelIDs = [];\r\n\r\n        for(let i=startIndex; i < stopIndex ; i++){\r\n          channelIDs.push(i)\r\n        }\r\n\r\n        const promises = channelIDs.map(async (channelID) => {\r\n          // Match the cache\r\n          return this.getChannelMetaAsync(channelID)\r\n            .then(response => response )\r\n            .catch(err => console.log(\"!!!Error (but skipping), getChannelMetaAsync() --> %o\", err))\r\n        });\r\n\r\n        // wait until all promises are resolved\r\n        const channelMetaData = await Promise.all(promises);\r\n\r\n        // return channels meta\r\n        console.log(\"getChannelsMetaAsync(From %d to %d) --> %o\", startIndex, stopIndex, channelMetaData);\r\n        resolve(channelMetaData);\r\n      });\r\n    }\r\n\r\n    // To get a single channel meta via id\r\n    getChannelMetaAsync = async (channelID) => {\r\n      return new Promise (async (resolve, reject) => {\r\n        if (this.state.channelsMeta[channelID]) {\r\n          console.log(\"getChannelMetaAsync() [CACHED] --> %o\", this.state.channelsMeta[channelID]);\r\n          resolve(this.state.channelsMeta[channelID]);\r\n        }\r\n        else {\r\n          let channelAddress;\r\n\r\n          await EPNSCoreHelper.getChannelAddressFromID(channelID, this.state.epnsReadProvider)\r\n            .then(async response => {\r\n              channelAddress = response;\r\n              await this.getChannelMetaViaAddressAsync(channelAddress)\r\n                .then(response => {\r\n                  // update the channel cache before resolving\r\n                  this.state.channelsMeta[channelID] = response;\r\n                  this.state.channelsMeta[channelAddress] = channelID;\r\n\r\n                  // resolve\r\n                  console.log(\"getChannelMetaAsync() [Address: %s] --> %o\", channelAddress, response);\r\n                  resolve(response);\r\n                })\r\n            })\r\n            .catch(err => { console.log(\"!!!Error, getChannelMetaAsync() --> %o\", err); reject(err); })\r\n        }\r\n      });\r\n    }\r\n\r\n    // To get a single channel meta via address\r\n    getChannelMetaViaAddressAsync = async (channelAddress) => {\r\n      return new Promise (async (resolve, reject) => {\r\n        if (this.state.channelsMeta[channelAddress]) {\r\n          const channelID = this.state.channelsMeta[channelAddress];\r\n\r\n          console.log(\"getChannelMetaViaAddressAsync() [CACHED] --> %o\", this.state.channelsMeta[channelID]);\r\n          resolve(this.state.channelsMeta[channelID]);\r\n        }\r\n        else {\r\n          // Can't cache this :(, no way to know channel id\r\n          await EPNSCoreHelper.getChannelInfo(channelAddress, this.state.epnsReadProvider)\r\n            .then(response => {\r\n              // resolve\r\n              console.log(\"getChannelMetaViaAddressAsync() [Address: %s] --> %o\", channelAddress, response);\r\n              resolve(response);\r\n            })\r\n            .catch(err => { console.log(\"!!!Error, getChannelMetaViaAddressAsync() --> %o\", err); reject(err); })\r\n        }\r\n      });\r\n    }\r\n\r\n    // CHANNELS INFO FUNCTIONS\r\n    // To get a single channel meta via id\r\n    getChannelJsonAsync = async (channelAddress) => {\r\n      return new Promise (async (resolve, reject) => {\r\n        if (this.state.channelsJson[channelAddress]) {\r\n          console.log(\"getChannelJsonAsync() [CACHED] --> %o\", this.state.channelsJson[channelAddress]);\r\n          resolve(this.state.channelsJson[channelAddress]);\r\n        }\r\n        else {\r\n          await EPNSCoreHelper.getChannelJsonFromChannelAddress(channelAddress, this.state.epnsReadProvider)\r\n            .then(response => {\r\n              // First set the cache\r\n              this.state.channelsJson[channelAddress] = response;\r\n\r\n              // resolve\r\n              console.log(\"getChannelJsonAsync() [Address: %s] --> %o\", channelAddress, response);\r\n              resolve(response);\r\n            })\r\n            .catch(err => { console.log(\"!!!Error, getChannelJsonAsync() --> %o\", err); reject(err); })\r\n        }\r\n      });\r\n    }\r\n\r\n}\r\n","import React from \"react\";\r\nimport styled from 'styled-components';\r\n\r\nimport Skeleton from '@yisheng90/react-loading';\r\n\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport moment from 'moment';\r\n\r\n\r\nfunction ViewNotificationItem({ notificationObject }) {\r\n  const { account, library } = useWeb3React();\r\n  const [ notification, setNotification ] = React.useState(null);\r\n  const [ subscribed, setSubscribed ] = React.useState(false);\r\n  const [ loading, setLoading ] = React.useState(true);\r\n\r\n  const [ txInProgress, setTxInProgress ] = React.useState(false);\r\n\r\n\r\n  React.useEffect(() => {\r\n    notifications();\r\n  }, [notificationObject]);\r\n\r\n  // to set notifications\r\n  const notifications = async () => {\r\n    setNotification(notificationObject)\r\n    setLoading(false);\r\n  }\r\n\r\n  // render\r\n  return (\r\n    <Container key={notificationObject.id}>\r\n      <ChannelDetailsWrapper>\r\n          <ChannelTitle>\r\n            {loading &&\r\n              <Skeleton color=\"#eee\" width=\"50%\" height={24} />\r\n            }\r\n            {!loading &&\r\n              <ChannelTitleLink>{notification.notificationTitle}</ChannelTitleLink>\r\n            }\r\n          </ChannelTitle>\r\n          <ChannelDesc>\r\n            {loading &&\r\n              <>\r\n                <SkeletonWrapper atH={5} atW={100}>\r\n                  <Skeleton color=\"#eee\" width=\"100%\" height={5} />\r\n                </SkeletonWrapper>\r\n\r\n                <SkeletonWrapper atH={5} atW={100}>\r\n                  <Skeleton color=\"#eee\" width=\"100%\" height={5} />\r\n                </SkeletonWrapper>\r\n\r\n                <SkeletonWrapper atH={5} atW={100}>\r\n                  <Skeleton color=\"#eee\" width=\"40%\" height={5} />\r\n                </SkeletonWrapper>\r\n              </>\r\n            }\r\n            {!loading &&\r\n\r\n              <ChannelDescLabel>{notification.notificationBody}</ChannelDescLabel>\r\n            }\r\n          </ChannelDesc>\r\n        </ChannelDetailsWrapper>\r\n\r\n        <ChannelMeta>\r\n          {!loading &&\r\n            <>\r\n              <Pool>\r\n                <br></br>\r\n                <PoolShare>\r\n                { notification.indexTimeStamp? moment\r\n\t\t\t\t\t\t\t\t\t\t\t\t.utc(parseInt(notification.indexTimeStamp) * 1000)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.local()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.format(\"DD MMM YYYY | hh:mm A\"): \"N/A\"}\r\n                </PoolShare>\r\n              </Pool>\r\n            </>\r\n          }\r\n        </ChannelMeta>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst ChannelDetailsWrapper = styled.div`\r\n  align-self: center;\r\n`;\r\n\r\n\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  border: 1px solid rgb(237, 237, 237);\r\n\r\n  margin: 15px 0px;\r\n  justify-content: center;\r\n  padding: 30px 20px;\r\n\r\n  justify-content: space-between;\r\n`\r\n\r\nconst SkeletonWrapper = styled.div`\r\n  overflow: hidden;\r\n  width: ${props => props.atW + '%' || '100%'};\r\n  height: ${props => props.atH}px;\r\n  border-radius: ${props => props.borderRadius || 10}px;\r\n  margin-bottom: ${props => props.marginBottom || 5}px;\r\n  margin-right: ${props => props.marginRight || 0}px;\r\n`\r\n\r\nconst ChannelTitle = styled.div`\r\n  margin-bottom: 10px;\r\n  margin-left: 4px;\r\n`\r\n\r\nconst ChannelTitleLink = styled.a`\r\n  text-decoration: none;\r\n  font-weight: 550;\r\n  color: #e20880;\r\n  font-size: 18px;\r\n`\r\n\r\nconst ChannelDesc = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  font-size: 14px;\r\n  color: rgba(0, 0, 0, 0.75);\r\n  font-weight: 400;\r\n  flex-direction: column;\r\n`\r\n\r\nconst ChannelDescLabel = styled.label`\r\n  flex: 1;\r\n  margin: 0px 5px;\r\n`\r\n\r\nconst ChannelMeta = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  font-size: 13px;\r\n`\r\n\r\nconst ChannelMetaBox = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  // padding: 2px 8px;\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n  font-size: 11px;\r\n  align-self: flex-end;\r\n`\r\n\r\nconst Pool = styled.div`\r\n  margin: 0px 10px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`\r\n\r\nconst PoolShare = styled(ChannelMetaBox)`\r\n  background: #674c9f;\r\n`\r\n\r\n\r\n// Export Default\r\nexport default ViewNotificationItem;\r\n","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\nimport { ethers } from \"ethers\";\r\nimport { BigNumber, bigNumberify, formatEther } from 'ethers/utils'\r\nimport { toast } from 'react-toastify';\r\nimport moment from 'moment';\r\n\r\nfunction NotificationToast({ notification, clearToast }) {\r\n\r\n  // toast customize\r\n  const LoaderToast = ({color }) => (\r\n      <Toaster>\r\n      <div>{notification.notificationTitle}</div>\r\n      <div>{notification.notificationBody}</div>\r\n      </Toaster>\r\n  )\r\n \r\n  // Render\r\n  return (\r\n    <>{\r\n    toast.dark(<LoaderToast onClick={clearToast} color=\"#35c5f3\"/>, {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        })\r\n    }\r\n    </>\r\n  );\r\n}\r\n\r\nconst Toaster = styled.div`\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`\r\n\r\n\r\n\r\n// Export Default\r\nexport default NotificationToast;\r\n","import React from \"react\";\r\nimport axios from 'axios';\r\nimport styled, { css } from 'styled-components';\r\nimport Loader from 'react-loader-spinner'\r\nimport { Waypoint } from \"react-waypoint\";\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\nimport { ethers } from \"ethers\";\r\nimport { BigNumber, bigNumberify, formatEther } from 'ethers/utils';\r\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\r\n\r\nimport ViewNotificationItem from \"components/ViewNotificationItem\";\r\nimport NotificationToast from \"components/NotificationToast\";\r\nimport hex2ascii from 'hex2ascii'\r\n\r\nconst NOTIFICATIONS_URL = \"https://backend-staging.epns.io/apis/feeds/get_feeds\";\r\n// Create Header\r\nfunction Feedbox({ epnsReadProvider }) {\r\n\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [notifications, setNotifications] = React.useState([]);\r\n  // since we dont have how many notifications there are in total\r\n  // we use this field to note when there are no more notifications to load\r\n  const [finishedFetching, setFinishedFetching] = React.useState(false);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [toast, showToast] = React.useState(null);\r\n\r\n  const [currentPage, setCurrentPage] = React.useState(1);\r\n  //define query\r\n  const notificationsPerPage = 6;\r\n  \r\n  const loadNotifications = (currentPage) => {\r\n    const body = {\r\n      \"user\": account,\r\n      \"page\": currentPage,\r\n      \"pageSize\": notificationsPerPage,\r\n      \"op\":\"read\"\r\n    }\r\n    axios.post(NOTIFICATIONS_URL, body)\r\n    .then(({data}) => {\r\n      const {count, results} = data;\r\n      const parsedNotification = results.map(parseAPINotifications);\r\n      if(count === 0){\r\n        setFinishedFetching(true);\r\n      }\r\n      setNotifications((oldNotifications) => ([\r\n        ...oldNotifications,\r\n        ...parsedNotification,\r\n      ]))\r\n    })\r\n    .catch(err => {\r\n        console.log(`\r\n        ============== There was an error [loadNotifications] ============\r\n        `, err.message);\r\n    }).finally(() => {\r\n      setLoading(false);\r\n    })\r\n  }\r\n\r\n  const clearToast = () => showToast(null);\r\n\r\n  React.useEffect(() => {\r\n    if (epnsReadProvider) {\r\n      loadNotifications(currentPage);\r\n      return subscribe()\r\n    }\r\n  }, [epnsReadProvider]);\r\n\r\n  //clear toast variable after it is shown\r\n  React.useEffect(() => {\r\n    if (toast) {\r\n      clearToast()\r\n    }\r\n  }, [toast]);\r\n\r\n  //function to query more notifications\r\n  const handlePagination = async() => {\r\n    await setCurrentPage((prevPage) => {\r\n      const newPage = prevPage + 1;\r\n      loadNotifications(newPage);\r\n      return newPage;\r\n    });\r\n  };\r\n  \r\n  const subscribe = () => {\r\n    if (account) {\r\n      return newNotification(onReceive);\r\n    }\r\n  };\r\n\r\n  //handle new notification\r\n  const onReceive = async notification => {\r\n    showToast(notification);\r\n    setNotifications(existingNotifications => [notification, ...existingNotifications]);\r\n    // setNotifications(notifications => [notification].concat(notifications));\r\n  };\r\n\r\n  //subscribe to SendNotification\r\n  const newNotification = (fn) => {\r\n    const event = 'SendNotification'\r\n\r\n    //callback function for listener\r\n    const cb = async (\r\n      eventChannelAddress: string,\r\n      eventUserAddress: string,\r\n      identityHex: string\r\n    ) => {\r\n      const userAddress = account\r\n      const identity = hex2ascii(identityHex)\r\n      const notificationId = identity\r\n        .concat('+')\r\n        .concat(eventChannelAddress)\r\n        .concat('+')\r\n        .concat(eventUserAddress)\r\n        .toLocaleLowerCase()\r\n      const ipfsId = identity.split('+')[1];\r\n\r\n      const channelJson = await ChannelsDataStore.instance.getChannelJsonAsync(eventChannelAddress);\r\n\r\n      // Form Gateway URL\r\n      const url = \"https://ipfs.io/ipfs/\" + ipfsId;\r\n      fetch(url)\r\n        .then(result => result.json())\r\n        .then(result => {\r\n      const ipfsNotification = {...result}\r\n      const notification = {\r\n        id: notificationId,\r\n        userAddress: eventUserAddress,\r\n        channelAddress: eventChannelAddress,\r\n        indexTimeStamp: Date.now() / 1000, // todo\r\n        notificationTitle: ipfsNotification.notification.title || channelJson.name,\r\n        notificationBody: ipfsNotification.notification.body,\r\n        // ...ipfsNotification.data,\r\n      }\r\n      if (ipfsNotification.data.type === '1') {\r\n        const isSubscribed = \r\n        epnsReadProvider.memberExists(\r\n          userAddress,\r\n          eventChannelAddress\r\n        )\r\n        .then(isSubscribed => {\r\n          if (isSubscribed) {\r\n            fn(notification)\r\n          }\r\n        })\r\n      } else if (userAddress === eventUserAddress) {\r\n        fn(notification)\r\n      }\r\n      })\r\n      .catch(err => {\r\n        console.log(\"!!!Error, getting new notification data from ipfs --> %o\", err);\r\n      });\r\n    }\r\n    epnsReadProvider.on(event, cb)\r\n    return epnsReadProvider.off.bind(epnsReadProvider, event, cb)\r\n  }\r\n  // transform the data gotten from the API into a workable format\r\n  const parseAPINotifications = (oneAPINotification) => {\r\n    // extract required data\r\n    let {\r\n      payload_id: payloadId,\r\n      payload: {\r\n        data: {\r\n          amsg\r\n        },\r\n        notification: {\r\n          body,\r\n          title\r\n        }\r\n      }\r\n    } = oneAPINotification;\r\n\r\n    let timeStamp = \"\";\r\n    // parse the text for the timestamp\r\n    const matches = amsg.match(/\\[timestamp:(.*?)\\]/);\r\n    if (matches) {\r\n      timeStamp = matches[1];\r\n      amsg = amsg.replace(/ *\\[timestamp:[^)]*\\] */g, \"\");\r\n    }\r\n    // save payload into object\r\n    const parsedNotification = {\r\n      id: payloadId,\r\n      notificationBody: body,\r\n      notificationTitle: title,\r\n      indexTimeStamp: parseInt(timeStamp)\r\n    };\r\n    return parsedNotification\r\n  };\r\n  const showWayPoint = (index) => {\r\n    return (Number(index) === notifications.length - 1) && !finishedFetching;\r\n  }\r\n\r\n  // Render\r\n  return (\r\n    <>\r\n      <Container>\r\n        {notifications &&\r\n          <Items id=\"scrollstyle-secondary\">\r\n            {notifications.map((oneNotification, index) => {  \r\n              return (\r\n                <>\r\n                {showWayPoint(index) && (<Waypoint onEnter = { () => handlePagination()}/>)}\r\n                <ViewNotificationItem\r\n                  key={oneNotification.id}\r\n                  notificationObject={oneNotification}\r\n                />\r\n                </>\r\n              )\r\n              })\r\n            }\r\n          </Items>\r\n        }\r\n        {(loading) && \r\n          <Loader\r\n          type=\"Oval\"\r\n          color=\"#35c5f3\"\r\n          height={40}\r\n          width={40}\r\n        />\r\n        }\r\n      \r\n        {\r\n        toast && \r\n        <NotificationToast\r\n          notification={toast}\r\n          clearToast = {clearToast}\r\n          />\r\n        }\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`\r\n// css styles\r\nconst Container = styled.div`\r\ndisplay: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n  max-height: 100vh;\r\n\r\n  // padding: 20px;\r\n  // font-size: 16px;\r\n  // display: flex;\r\n  // font-weight: 200;\r\n  // align-content: center;\r\n  // align-items: center;\r\n  // justify-content: center;\r\n  // width: 100%;\r\n  // min-height: 40vh;\r\n`\r\n\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\n\r\n// Export Default\r\nexport default Feedbox;\r\n","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\nimport { AnimateOnChange } from 'react-animation';\r\n\r\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\r\n\r\n// Create Header\r\nfunction DisplayNotice({ title, theme }) {\r\n  React.useEffect(() => {\r\n\r\n  }, [title, theme]);\r\n\r\n  // to create blockies\r\n\r\n  return (\r\n    <Container>\r\n      <AnimateOnChange\r\n        animationIn=\"fadeIn\"\r\n        animationOut=\"fadeOut\"\r\n        durationOut={200}\r\n      >\r\n        <Notice theme={theme}>{title}</Notice>\r\n      </AnimateOnChange>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n\r\n`\r\n\r\nconst Notice = styled.span`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n\r\n  ${props => props.theme === 'primary' && css`\r\n    background: #e20880;\r\n  `};\r\n\r\n  ${props => props.theme === 'secondary' && css`\r\n    background: #35c5f3;\r\n  `};\r\n\r\n  ${props => props.theme === 'third' && css`\r\n    background: #674c9f;\r\n  `};\r\n`\r\n\r\n// Export Default\r\nexport default DisplayNotice;\r\n","const size = {\r\n  mobileS: '320px',\r\n  mobileM: '375px',\r\n  mobileL: '425px',\r\n  tablet: '768px',\r\n  laptop: '1024px',\r\n  laptopL: '1440px',\r\n  desktop: '2560px'\r\n}\r\n\r\nexport const Device = {\r\n  mobileS: `(max-width: ${size.mobileS})`,\r\n  mobileM: `(max-width: ${size.mobileM})`,\r\n  mobileL: `(max-width: ${size.mobileL})`,\r\n  tablet: `(max-width: ${size.tablet})`,\r\n  laptop: `(max-width: ${size.laptop})`,\r\n  laptopL: `(max-width: ${size.laptopL})`,\r\n  desktop: `(max-width: ${size.desktop})`,\r\n  desktopL: `(max-width: ${size.desktop})`\r\n};\r\n","import EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\nimport { ethers } from \"ethers\";\r\nimport { bigNumber } from 'ethers/utils'\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\n\r\n// STATIC SINGLETON\r\nexport const UserEvents = {\r\n    SUBSCRIBED: \"Subscribed\",\r\n    UNSUBSCRIBED: \"Unsubscribed\",\r\n    PUBLIC_KEY_BROADCASTED: \"PublicKeyBroadcasted\",\r\n    CREATED_CHANNEL: \"CreatedChannel\",\r\n    DEACTIVATE_CHANNEL: \"DeactivateChannel\",\r\n}\r\n\r\nexport default class UsersDataStore {\r\n    static instance = UsersDataStore.instance || new UsersDataStore();\r\n\r\n    state = {\r\n      usersCount: -1,\r\n      userMeta: null,\r\n      ownerMeta: null,\r\n\r\n      callbacks: [],\r\n\r\n      account: null,\r\n      epnsReadProvider: null,\r\n    }\r\n\r\n    // init\r\n    init = (account, epnsReadProvider) => {\r\n      // set account\r\n      this.state.account = account;\r\n\r\n      // First attach listeners then overwrite the old one if any\r\n      this.resetUsersListeners();\r\n      this.state.epnsReadProvider = epnsReadProvider;\r\n      this.initUsersListenersAsync();\r\n\r\n      // next get store user count & user meta\r\n      this.getOwnerMetaAsync();\r\n      this.getUsersCountAsync();\r\n      this.getUserMetaAsync();\r\n    }\r\n\r\n    // RESET LISTENERS\r\n    resetUsersListeners = () => {\r\n      // only proceed if a read provider is attached\r\n      if (this.state.epnsReadProvider) {\r\n        this.state.epnsReadProvider.removeAllListeners(\"Subscribe\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"Unsubscribe\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"PublicKeyRegistered\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"AddChannel\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"DeactivateChannel\");\r\n      }\r\n\r\n      // reset user meta as well\r\n      this.state.userMeta = null;\r\n    }\r\n\r\n    // init LISTENERS\r\n    initUsersListenersAsync = async () => {\r\n      // Add Listeners\r\n      await this.listenForSubscribedAsync();\r\n      await this.listenForUnsubscribedAsync();\r\n\r\n      if (!this.state.userMeta || (this.state.userMeta && !this.state.userMeta.publicKeyRegistered)) {\r\n        await this.listenForPublicKeyBroadcastAsync();\r\n      }\r\n    }\r\n\r\n    // 1. Listen for Subscribe Async\r\n    listenForSubscribedAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.Subscribe(null, this.state.account);\r\n\r\n      if (this.state.userMeta) {\r\n        this.state.userMeta.subscribedCount = this.state.userMeta.subscribedCount.add(1);\r\n      }\r\n\r\n      contract.on(filter, async (channel, user) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[UserEvents.SUBSCRIBED]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.SUBSCRIBED])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 2. Listen for Unsubscribe Async\r\n    listenForUnsubscribedAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.Unsubscribe(null, this.state.account);\r\n\r\n      if (this.state.userMeta) {\r\n        this.state.userMeta.subscribedCount = this.state.userMeta.subscribedCount.sub(1);\r\n      }\r\n\r\n      contract.on(filter, async (channel, user) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[UserEvents.UNSUBSCRIBED]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.UNSUBSCRIBED])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // 3. Listen For Public Key Broadcast\r\n    listenForPublicKeyBroadcastAsync = async () => {\r\n      const contract = this.state.epnsReadProvider;\r\n      let filter = contract.filters.PublicKeyRegistered(this.state.account, null);\r\n\r\n      if (this.state.userMeta) {\r\n        this.state.userMeta.publicKeyRegistered = true;\r\n      }\r\n\r\n      contract.once(filter, async (channel, user) => {\r\n        // then perform callbacks\r\n        if (this.state.callbacks[UserEvents.UNSUBSCRIBED]) {\r\n          for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.UNSUBSCRIBED])) {\r\n            if (callback) { callback(channel, user); }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // FOR CALLBACKS\r\n    addCallbacks = (callbackType, callbackID, callback) => {\r\n      // first check if callback already exists\r\n      if (!this.state.callbacks[callbackType]) {\r\n        this.state.callbacks[callbackType] = {};\r\n      }\r\n\r\n      if (!this.state.callbacks[callbackType][callbackID]) {\r\n        this.state.callbacks[callbackType][callbackID] = callback;\r\n      }\r\n    }\r\n\r\n    removeCallbacks = (callbackType, callbackID) => {\r\n      // first check if callback already exists\r\n      if (this.state.callbacks[callbackType][callbackID]) {\r\n        this.state.callbacks[callbackType][callbackID] = null;\r\n      }\r\n    }\r\n\r\n    // GET OWNER META\r\n    getOwnerMetaAsync = async () => {\r\n      const enableLogs = 0;\r\n\r\n      return new Promise ((resolve, reject) => {\r\n        if (this.state.ownerMeta) {\r\n          if (enableLogs) console.log(\"getOwnerMetaAsync() [CACHED] --> %o\", this.state.ownerMeta);\r\n          resolve(this.state.ownerMeta);\r\n        }\r\n        else {\r\n          EPNSCoreHelper.getOwnerInfo(this.state.epnsReadProvider)\r\n            .then(response => {\r\n              this.state.ownerMeta = response;\r\n\r\n              if (enableLogs) console.log(\"getOwnerMetaAsync() --> %o\", response);\r\n              resolve(this.state.ownerMeta);\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getOwnerMetaAsync() --> %o\", err);\r\n              reject(err);\r\n            });\r\n        }\r\n      });\r\n    }\r\n\r\n    // USERS COUNT\r\n    getUsersCountAsync = async () => {\r\n      return new Promise (async (resolve, reject) => {\r\n        if (this.state.channelsCount == -1) {\r\n          // Count not set, get and set it first\r\n          const count = EPNSCoreHelper.getTotalNumberOfUsers(this.state.epnsReadProvider)\r\n            .then(response => {\r\n              this.state.usersCount = response;\r\n              console.log(\"getUsersCountAsync() --> %o\", response);\r\n              resolve(this.state.usersCount)\r\n            })\r\n            .catch(err => { console.log(\"!!!Error, getUsersCountAsync() --> %o\", err); reject(err); });\r\n        }\r\n        else {\r\n          resolve(this.state.usersCount);\r\n        }\r\n      });\r\n    }\r\n\r\n    incrementUsersCountAsync = async (incrementCount) => {\r\n      return new Promise ((resolve, reject) => {\r\n        this.getUsersCountAsync()\r\n          .then(response => {\r\n            this.state.usersCount = response + incrementCount;\r\n            console.log(\"incrementChannelsCountAsync() --> %d\", this.state.usersCount);\r\n            resolve(this.state.usersCount);\r\n          })\r\n          .catch(err => { console.log(\"!!!Error, getUsersCountAsync() --> %o\", err); reject(err); });\r\n      });\r\n    }\r\n\r\n    // GET USER META\r\n    getUserMetaAsync = async () => {\r\n      const enableLogs = 0;\r\n\r\n      return new Promise ((resolve, reject) => {\r\n        if (this.state.userMeta) {\r\n          if (enableLogs) console.log(\"getUserMetaAsync() [CACHED] --> %o\", this.state.userMeta);\r\n          resolve(this.state.userMeta);\r\n        }\r\n        else {\r\n          EPNSCoreHelper.getUserInfo(this.state.account, this.state.epnsReadProvider)\r\n            .then(response => {\r\n              this.state.userMeta = response;\r\n\r\n              if (enableLogs) console.log(\"getUserMetaAsync() --> %o\", this.state.userMeta);\r\n              resolve(this.state.userMeta);\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getUserMetaAsync() --> %o\", err);\r\n              reject(err);\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n}\r\n","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\nimport { Device } from 'assets/Device';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport Skeleton from '@yisheng90/react-loading';\r\nimport { IoMdPeople } from 'react-icons/io';\r\nimport { GiTwoCoins } from 'react-icons/gi';\r\n \r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { ethers } from \"ethers\";\r\nimport { keccak256, arrayify, hashMessage, recoverPublicKey } from 'ethers/utils';\r\n\r\nimport EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\nimport ChannelsDataStore, { ChannelEvents } from \"singletons/ChannelsDataStore\";\r\nimport UsersDataStore, { UserEvents } from \"singletons/UsersDataStore\";\r\n\r\n// Create Header\r\nfunction ViewChannelItem({ channelObject, isOwner, epnsReadProvider, epnsWriteProvide }) {\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [ channelJson, setChannelJson ] = React.useState({});\r\n  const [ subscribed, setSubscribed ] = React.useState(false);\r\n  const [ loading, setLoading ] = React.useState(true);\r\n\r\n  const [ txInProgress, setTxInProgress ] = React.useState(false);\r\n\r\n\r\n  React.useEffect(() => {\r\n    fetchChannelJson();\r\n    registerCallbacks();\r\n  }, [account, channelObject]);\r\n\r\n  // to fetch channels\r\n  const fetchChannelJson = async () => {\r\n    const channelJson = await ChannelsDataStore.instance.getChannelJsonAsync(channelObject.addr);\r\n    const subs = await EPNSCoreHelper.getSubscribedStatus(account, channelObject.addr, epnsReadProvider);\r\n    setSubscribed(subs);\r\n\r\n    setChannelJson(channelJson);\r\n    setLoading(false);\r\n  }\r\n\r\n  // to register callbacks\r\n  const registerCallbacks = () => {\r\n    UsersDataStore.instance.addCallbacks(\r\n      UserEvents.SUBSCRIBED,\r\n      \"FromViewChannelItem\",\r\n      () => {\r\n        setSubscribed(true);\r\n        channelObject.memberCount = channelObject.memberCount.add(1);\r\n      }\r\n    );\r\n\r\n    UsersDataStore.instance.addCallbacks(\r\n      UserEvents.UNSUBSCRIBED,\r\n      \"FromViewChannelItem\",\r\n      () => {\r\n        setSubscribed(false);\r\n        channelObject.memberCount = channelObject.memberCount.sub(1);\r\n      }\r\n    );\r\n\r\n    ChannelsDataStore.instance.addCallbacks(\r\n      ChannelEvents.SUBSCRIBER_ANY_CHANNEL,\r\n      \"FromViewChannelItem\",\r\n      (channel, user) => {\r\n        if (channel === channelObject.addr) {\r\n          channelObject.memberCount = channelObject.memberCount.add(1);\r\n        }\r\n      }\r\n    );\r\n\r\n    ChannelsDataStore.instance.addCallbacks(\r\n      ChannelEvents.UNSUBSCRIBER_ANY_CHANNEL,\r\n      \"FromViewChannelItem\",\r\n      (channel, user) => {\r\n        if (channel === channelObject.addr) {\r\n          channelObject.memberCount = channelObject.memberCount.sub(1);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  // to subscribe\r\n  const subscribe = async () => {\r\n    // Check if public key is broadcasted or not\r\n    const userMeta = await UsersDataStore.instance.getUserMetaAsync();\r\n    if (!userMeta.publicKeyRegistered) {\r\n      const msg = \"Sign to enable Secrets! (Encrypted Messages)\\n Read more: https://epns.io/secret-messages\";\r\n\r\n      // Sign a message and extract public key\r\n      library\r\n        .getSigner(account)\r\n        .signMessage(msg)\r\n        .then(async signature => {\r\n          const publicKey = recoverPublicKey(arrayify(hashMessage(msg)), signature);\r\n          const formattedPubKey = publicKey.slice(0, 2) + publicKey.slice(4);\r\n\r\n          subscribeAction(formattedPubKey);\r\n        })\r\n        .catch(error => {\r\n          // Show toast as well\r\n          toast.dark('Skipped for now... Encrypted messages will require this!', {\r\n            position: \"bottom-right\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n\r\n          subscribeAction(false);\r\n        })\r\n    }\r\n    else {\r\n      subscribeAction(false);\r\n    }\r\n  }\r\n\r\n  const subscribeAction = async (withPublicKey) => {\r\n    setTxInProgress(true);\r\n\r\n    let sendWithTxPromise;\r\n\r\n    if (withPublicKey) {\r\n      sendWithTxPromise = epnsWriteProvide.subscribeWithPublicKey(channelObject.addr, withPublicKey);\r\n    }\r\n    else {\r\n      sendWithTxPromise = epnsWriteProvide.subscribe(channelObject.addr);\r\n    }\r\n\r\n    sendWithTxPromise\r\n      .then(async tx => {\r\n\r\n        let txToast = toast.dark(<LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\"/>, {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n\r\n        try {\r\n          await library.waitForTransaction(tx.hash);\r\n\r\n          toast.update(txToast, {\r\n            render: \"Transaction Completed!\",\r\n            type: toast.TYPE.SUCCESS,\r\n            autoClose: 5000\r\n          });\r\n\r\n          setTxInProgress(false);\r\n        }\r\n        catch(e) {\r\n          toast.update(txToast, {\r\n            render: \"Transaction Failed! (\" + e.name + \")\",\r\n            type: toast.TYPE.ERROR,\r\n            autoClose: 5000\r\n          });\r\n\r\n          setTxInProgress(false);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        toast.dark('Transaction Cancelled!', {\r\n          position: \"bottom-right\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      })\r\n  }\r\n\r\n  const unsubscribeAction = async () => {\r\n    setTxInProgress(true);\r\n\r\n    let sendWithTxPromise = epnsWriteProvide.unsubscribe(channelObject.addr);\r\n\r\n    sendWithTxPromise\r\n      .then(async tx => {\r\n\r\n        let txToast = toast.dark(<LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\"/>, {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n\r\n        try {\r\n          await library.waitForTransaction(tx.hash);\r\n\r\n          toast.update(txToast, {\r\n            render: \"Transaction Completed!\",\r\n            type: toast.TYPE.SUCCESS,\r\n            autoClose: 5000\r\n          });\r\n\r\n          setTxInProgress(false);\r\n        }\r\n        catch(e) {\r\n          toast.update(txToast, {\r\n            render: \"Transaction Failed! (\" + e.name + \")\",\r\n            type: toast.TYPE.ERROR,\r\n            autoClose: 5000\r\n          });\r\n\r\n          setTxInProgress(false);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        toast.dark('Transaction Cancelled!', {\r\n          position: \"bottom-right\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n\r\n        setTxInProgress(false);\r\n      })\r\n  }\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Loader\r\n       type=\"Oval\"\r\n       color={color}\r\n       height={30}\r\n       width={30}\r\n      />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  )\r\n\r\n  // render\r\n  return (\r\n    <Container key={channelObject.addr}>\r\n      <ChannelLogo>\r\n        <ChannelLogoOuter>\r\n          <ChannelLogoInner>\r\n          {loading &&\r\n            <Skeleton color=\"#eee\" width=\"100%\" height=\"100%\" />\r\n          }\r\n          {!loading &&\r\n            <ChannelLogoImg src={`${channelJson.icon}`} />\r\n          }\r\n          </ChannelLogoInner>\r\n        </ChannelLogoOuter>\r\n      </ChannelLogo>\r\n\r\n      <ChannelInfo>\r\n        <ChannelTitle>\r\n          {loading &&\r\n            <Skeleton color=\"#eee\" width=\"50%\" height={24} />\r\n          }\r\n          {!loading &&\r\n            <ChannelTitleLink href={channelJson.url} target=\"_blank\" rel=\"nofollow\">{channelJson.name}</ChannelTitleLink>\r\n          }\r\n        </ChannelTitle>\r\n\r\n        <ChannelDesc>\r\n          {loading &&\r\n            <>\r\n              <SkeletonWrapper atH={5} atW={100}>\r\n                <Skeleton color=\"#eee\" width=\"100%\" height={5} />\r\n              </SkeletonWrapper>\r\n\r\n              <SkeletonWrapper atH={5} atW={100}>\r\n                <Skeleton color=\"#eee\" width=\"100%\" height={5} />\r\n              </SkeletonWrapper>\r\n\r\n              <SkeletonWrapper atH={5} atW={100}>\r\n                <Skeleton color=\"#eee\" width=\"40%\" height={5} />\r\n              </SkeletonWrapper>\r\n            </>\r\n          }\r\n          {!loading &&\r\n            <ChannelDescLabel>{channelJson.info}</ChannelDescLabel>\r\n          }\r\n        </ChannelDesc>\r\n\r\n        <ChannelMeta>\r\n          {loading &&\r\n            <>\r\n              <SkeletonWrapper atH={10} atW={30} marginBottom=\"0\">\r\n                <Skeleton />\r\n              </SkeletonWrapper>\r\n            </>\r\n          }\r\n          {!loading &&\r\n            <>\r\n              <Subscribers>\r\n                <IoMdPeople size={20} color=\"#ccc\"/>\r\n                <SubscribersCount>\r\n                  {EPNSCoreHelper.formatBigNumberToMetric(channelObject.memberCount)}\r\n                </SubscribersCount>\r\n              </Subscribers>\r\n              <Pool>\r\n                <GiTwoCoins size={20} color=\"#ccc\"/>\r\n                <PoolShare>\r\n                  {EPNSCoreHelper.formatBigNumberToMetric(channelObject.poolContribution, true) + \" DAI\"}\r\n                </PoolShare>\r\n              </Pool>\r\n            </>\r\n          }\r\n        </ChannelMeta>\r\n      </ChannelInfo>\r\n      {!!account && !!library &&\r\n        <>\r\n          <LineBreak />\r\n          <ChannelActions>\r\n            {loading &&\r\n              <SkeletonButton>\r\n                <Skeleton />\r\n              </SkeletonButton>\r\n            }\r\n            {!loading && !subscribed &&\r\n              <SubscribeButton onClick={subscribe} disabled={txInProgress}>\r\n                {txInProgress &&\r\n                  <ActionLoader>\r\n                    <Loader\r\n                     type=\"Oval\"\r\n                     color=\"#FFF\"\r\n                     height={16}\r\n                     width={16}\r\n                    />\r\n                  </ActionLoader>\r\n                }\r\n                <ActionTitle hideit={txInProgress}>Subscribe</ActionTitle>\r\n              </SubscribeButton>\r\n            }\r\n            {!loading && subscribed &&\r\n              <>\r\n              {isOwner &&\r\n                <OwnerButton disabled>Owner</OwnerButton>\r\n              }\r\n              {!isOwner &&\r\n                <UnsubscribeButton onClick={unsubscribeAction} disabled={txInProgress}>\r\n                  {txInProgress &&\r\n                    <ActionLoader>\r\n                      <Loader\r\n                       type=\"Oval\"\r\n                       color=\"#FFF\"\r\n                       height={16}\r\n                       width={16}\r\n                      />\r\n                    </ActionLoader>\r\n                  }\r\n                  <ActionTitle hideit={txInProgress}>Unsubscribe</ActionTitle>\r\n                </UnsubscribeButton>\r\n              }\r\n              </>\r\n            }\r\n          </ChannelActions>\r\n        </>\r\n      }\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  border: 1px solid rgb(237, 237, 237);\r\n\r\n  margin: 15px 0px;\r\n  justify-content: center;\r\n  padding: 10px;\r\n`\r\n\r\nconst SkeletonWrapper = styled.div`\r\n  overflow: hidden;\r\n  width: ${props => props.atW + '%' || '100%'};\r\n  height: ${props => props.atH}px;\r\n  border-radius: ${props => props.borderRadius || 10}px;\r\n  margin-bottom: ${props => props.marginBottom || 5}px;\r\n  margin-right: ${props => props.marginRight || 0}px;\r\n`\r\n\r\nconst ChannelLogo = styled.div`\r\n  max-width: 100px;\r\n  min-width: 32px;\r\n  flex: 1;\r\n  margin: 5px;\r\n  padding: 10px;\r\n  border: 2px solid #fafafa;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-self: flex-start;\r\n`\r\n\r\nconst ChannelLogoOuter = styled.div`\r\n  padding-top: 100%;\r\n  position: relative;\r\n`\r\n\r\nconst ChannelLogoInner = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst ChannelLogoImg = styled.img`\r\n  object-fit: contain;\r\n  width: 100%;\r\n  border-radius: 20px;\r\n  overflow: hidden;\r\n`\r\n\r\nconst ChannelInfo = styled.div`\r\n  flex: 1;\r\n  margin: 5px 10px;\r\n  min-width: 120px;\r\n  flex-grow: 4;\r\n  flex-direction: column;\r\n  display: flex;\r\n`\r\n\r\nconst ChannelTitle = styled.div`\r\n  margin-bottom: 5px;\r\n`\r\n\r\nconst ChannelTitleLink = styled.a`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n  &:hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\nconst ChannelDesc = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  font-size: 14px;\r\n  color: rgba(0, 0, 0, 0.75);\r\n  font-weight: 400;\r\n  flex-direction: column;\r\n`\r\n\r\nconst ChannelDescLabel = styled.label`\r\n  flex: 1;\r\n`\r\n\r\nconst ChannelMeta = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  font-size: 13px;\r\n`\r\n\r\nconst ChannelMetaBox = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  padding: 2px 8px;\r\n  border-radius: 10px;\r\n  font-size: 11px;\r\n`\r\n\r\nconst Subscribers = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`\r\n\r\nconst SubscribersCount = styled(ChannelMetaBox)`\r\n  background: #35c4f3;\r\n`\r\n\r\nconst Pool = styled.div`\r\n  margin: 0px 10px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`\r\n\r\nconst PoolShare = styled(ChannelMetaBox)`\r\n  background: #674c9f;\r\n`\r\n\r\nconst LineBreak = styled.div`\r\n  display: none;\r\n  flex-basis: 100%;\r\n  height: 0;\r\n\r\n  @media ${Device.tablet} {\r\n    display: block;\r\n  }\r\n`\r\n\r\nconst ChannelActions = styled.div`\r\n  margin: 5px;\r\n  flex-grow: 1;\r\n  max-width: 120px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${ props => props.disabled && css`\r\n    &:hover {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n    &:active {\r\n      opacity: 1;\r\n      cursor: default;\r\n      pointer: default;\r\n    }\r\n  `}\r\n`\r\n\r\nconst ActionTitle = styled.span`\r\n  ${ props => props.hideit && css`\r\n    visibility: hidden;\r\n  `};\r\n`\r\n\r\nconst ActionLoader = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst SkeletonButton = styled.div`\r\n  border: 0;\r\n  outline: 0;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 10px;\r\n  border-radius: 5px;\r\n  flex: 1;\r\n`\r\n\r\nconst SubscribeButton = styled(ChannelActionButton)`\r\n  background: #e20880;\r\n`\r\n\r\nconst UnsubscribeButton = styled(ChannelActionButton)`\r\n  background: #674c9f;\r\n`\r\n\r\nconst OwnerButton = styled(ChannelActionButton)`\r\n  background: #35c5f3;\r\n`\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\n\r\n// Export Default\r\nexport default ViewChannelItem;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport {Section, Content, Item, ItemH, Span, Anchor} from 'components/SharedStyling';\r\n\r\nimport { FaGasPump } from 'react-icons/fa';\r\n\r\n// Faucet URLs\r\nfunction Faucets() {\r\n  // render\r\n  return (\r\n    <Section margin=\"5px 0px 0px 0px\">\r\n      <Content>\r\n        <ItemH\r\n          self=\"flex-end\"\r\n          bg=\"#fff\"\r\n          radius=\"8px\"\r\n          padding=\"30px 10px 10px 10px\"\r\n          border=\"1px solid #ededed\"\r\n          overflow=\"hidden\"\r\n          align=\"stretch\"\r\n        >\r\n          <Span\r\n            pos=\"absolute\"\r\n            top=\"10px\"\r\n            right=\"0px\"\r\n            padding=\"5px 10px\"\r\n            bg=\"#e20880\"\r\n            color=\"#fff\"\r\n            size=\"12px\"\r\n            weight=\"600\"\r\n          >\r\n            Get Free Ropsten Ether\r\n          </Span>\r\n\r\n          <Item margin=\"5px\">\r\n            <Anchor\r\n              direction=\"column\"\r\n              href=\"https://faucet.metamask.io/\"\r\n              target=\"_blank\"\r\n              rel=\"nofollow\"\r\n            >\r\n              <FaGasPump size={30} color=\"#674c9f\"/>\r\n              <Span\r\n                bg=\"#000\"\r\n                color=\"#fff\"\r\n                size=\"10px\"\r\n                weight=\"600\"\r\n                spacing=\"0.1em\"\r\n                textAlign=\"center\"\r\n                padding=\"5px 10px\"\r\n                margin=\"10px 0px 0px 0px\"\r\n                textTransform=\"uppercase\"\r\n                radius=\"8px\"\r\n              >\r\n                Metamask Faucet\r\n              </Span>\r\n            </Anchor>\r\n          </Item>\r\n          <Item margin=\"5px\">\r\n            <Anchor\r\n              direction=\"column\"\r\n              href=\"https://faucet.ropsten.be/\"\r\n              target=\"_blank\"\r\n              rel=\"nofollow\"\r\n            >\r\n              <FaGasPump size={30} color=\"#674c9f\"/>\r\n              <Span\r\n                bg=\"#000\"\r\n                color=\"#fff\"\r\n                size=\"10px\"\r\n                weight=\"600\"\r\n                spacing=\"0.1em\"\r\n                textAlign=\"center\"\r\n                padding=\"5px 10px\"\r\n                margin=\"10px 0px 0px 0px\"\r\n                textTransform=\"uppercase\"\r\n                radius=\"8px\"\r\n              >\r\n                Faucet Ropsten\r\n              </Span>\r\n            </Anchor>\r\n          </Item>\r\n\r\n        </ItemH>\r\n      </Content>\r\n    </Section>\r\n  );\r\n}\r\n\r\n// Export Default\r\nexport default Faucets;\r\n","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\nimport Loader from 'react-loader-spinner'\r\nimport { Waypoint } from \"react-waypoint\";\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\nimport { ethers } from \"ethers\";\r\n\r\nimport DisplayNotice from \"components/DisplayNotice\";\r\nimport ViewChannelItem from \"components/ViewChannelItem\";\r\nimport Faucets from \"components/Faucets\";\r\n\r\nimport ChannelsDataStore, { ChannelEvents } from \"singletons/ChannelsDataStore\";\r\nimport UsersDataStore, { UserEvents } from \"singletons/UsersDataStore\";\r\n\r\n// Create Header\r\nfunction ViewChannels({ epnsReadProvider, epnsWriteProvide }) {\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [controlAt, setControlAt] = React.useState(0);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [channels, setChannels] = React.useState([]);\r\n  const [totalChannelLength, setChannelLength] = React.useState(0);\r\n  const [paginatedChannels, setPaginatedChannels] = React.useState([]);\r\n  const [user, setUser] = React.useState(null);\r\n  const [owner, setOwner] = React.useState(null);\r\n\r\n  const [page, setPage] = React.useState(0);\r\n  const channelsPerPage = 3;\r\n  const channelsVisited = page * channelsPerPage;\r\n\r\n  React.useEffect(() => {\r\n    fetchInitialsChannelMeta();\r\n  }, [account]);\r\n\r\n  //update paginatedChannels array when scrolled till the end\r\n  React.useEffect(() => {\r\n    if(channels){\r\n      setPaginatedChannels(prev => [...prev, ...channels.slice(channelsVisited, channelsVisited + channelsPerPage)])\r\n    }\r\n  }, [channels, page]);\r\n\r\n  // handle user action at control center\r\n  const userClickedAt = (controlIndex) => {\r\n    setControlAt(controlIndex);\r\n  }\r\n  // to update a page\r\n  const updateCurrentPage = () => {\r\n    // fetch more channel information\r\n    setPage(prev => {\r\n      const newPage = prev + 1;\r\n      loadMoreChannelMeta(newPage);\r\n      return newPage;\r\n    });\r\n  }\r\n\r\n  // to fetch channels\r\n  const fetchInitialsChannelMeta = async () => {\r\n    // get and set user and owner first\r\n    const userMeta = await UsersDataStore.instance.getUserMetaAsync();\r\n    setUser(userMeta);\r\n\r\n    const ownerAddr = await UsersDataStore.instance.getOwnerMetaAsync();\r\n    setOwner(ownerAddr);\r\n\r\n    // const channelsMeta = await EPNSCoreHelper.getChannelsMetaLatestToOldest(-1, -1, epnsReadProvider);\r\n    const channelsMeta = await ChannelsDataStore.instance.getChannelsMetaAsync(channelsVisited, channelsPerPage);\r\n    const totalChannelsLength = await ChannelsDataStore.instance.getChannelsCountAsync();\r\n    setChannelLength(totalChannelsLength)\r\n    // sort this again, this time with subscriber count\r\n    // channelsMeta.sort((a, b) => {\r\n    //   if (a.memberCount.toNumber() < b.memberCount.toNumber()) return -1;\r\n    //   if (a.memberCount.toNumber() > b.memberCount.toNumber()) return 1;\r\n    //   return 0;\r\n    // });\r\n\r\n    // Filter out channel\r\n\r\n    setChannels(channelsMeta);\r\n    setLoading(false);\r\n  }\r\n\r\n  // load more channels when we get to the bottom of the page\r\n  const loadMoreChannelMeta = async (newPageNumber) => {\r\n    const startingPoint = newPageNumber * channelsPerPage;\r\n    const moreChannels = await ChannelsDataStore.instance.getChannelsMetaAsync(startingPoint, channelsPerPage);\r\n    setChannels(oldChannels => ([\r\n      ...oldChannels,\r\n      ...moreChannels\r\n    ]));\r\n  }\r\n\r\n  // conditionally display the waymore bar which loads more information\r\n  const showWayPoint = (index) => {\r\n    return ( Number(index) === paginatedChannels.length -1 )\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n    <>\r\n    <Container>\r\n      {loading &&\r\n        <ContainerInfo>\r\n          <Loader\r\n           type=\"Oval\"\r\n           color=\"#35c5f3\"\r\n           height={40}\r\n           width={40}\r\n          />\r\n        </ContainerInfo>\r\n      }\r\n\r\n      {!loading && controlAt == 0 && channels.length == 0 &&\r\n        <ContainerInfo>\r\n          <DisplayNotice\r\n            title=\"That's weird, No Channels in EPNS... world is ending... right?\"\r\n            theme=\"primary\"\r\n          />\r\n        </ContainerInfo>\r\n      }\r\n\r\n      {!loading && controlAt == 0 && channels.length != 0 &&\r\n        <Items id=\"scrollstyle-secondary\">\r\n          <Faucets/>\r\n\r\n          {Object.keys(paginatedChannels).map(index => {\r\n            const isOwner = (\r\n              paginatedChannels[index].addr === account ||\r\n              (account === owner && paginatedChannels[index].addr === \"0x0000000000000000000000000000000000000000\")\r\n            );\r\n\r\n            if (paginatedChannels[index].addr !== \"0x0000000000000000000000000000000000000000\") {\r\n              return (\r\n                <>\r\n                {showWayPoint(index) && (<Waypoint onEnter = {updateCurrentPage}/>)}\r\n                <ViewChannelItem\r\n                  key={paginatedChannels[index].addr}\r\n                  channelObject={paginatedChannels[index]}\r\n                  isOwner={isOwner}\r\n                  epnsReadProvider={epnsReadProvider}\r\n                  epnsWriteProvide={epnsWriteProvide}\r\n                />\r\n                </>\r\n              );\r\n            }\r\n            else if (paginatedChannels[index].addr === \"0x0000000000000000000000000000000000000000\" && user.channellized) {\r\n              return (\r\n                <>\r\n                {showWayPoint(index) && (<Waypoint onEnter = {updateCurrentPage}/>)}\r\n                <ViewChannelItem\r\n                  key={paginatedChannels[index].addr}\r\n                  channelObject={paginatedChannels[index]}\r\n                  isOwner={isOwner}\r\n                  epnsReadProvider={epnsReadProvider}\r\n                  epnsWriteProvide={epnsWriteProvide}\r\n                />\r\n                </>\r\n              );\r\n            }\r\n            else {\r\n              return(\r\n                <>\r\n                {showWayPoint(index) && (<Waypoint onEnter = {updateCurrentPage}/>)}\r\n                </>\r\n              )\r\n            }\r\n          })}\r\n        </Items>\r\n      }\r\n    </Container>\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  max-height: 80vh;\r\n`\r\n\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`\r\n\r\n// Export Default\r\nexport default ViewChannels;\r\n","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport { useWeb3React } from '@web3-react/core';\r\n\r\n\r\n// Other Information URLs\r\nfunction ViewInfoItem() {\r\n  // render\r\n  return (\r\n    <>\r\n    <Container >\r\n      <ChannelInfo>\r\n        <ChannelTitle>\r\n          <>\r\n          <AppLinkText>\r\n            <AppLink href={`${process.env.REACT_APP_IOS_STAGING_DAPP_URL}`} target=\"_blank\" rel=\"nofollow\">\r\n              Download EPNS App (iOS)\r\n            </AppLink>\r\n          </AppLinkText>\r\n           For iOS Users\r\n          </>\r\n        </ChannelTitle>\r\n      </ChannelInfo>\r\n    </Container>\r\n    <Container >\r\n      <ChannelInfo>\r\n        <ChannelTitle>\r\n          <>\r\n          <AppLinkText>\r\n            <AppLink href={`${process.env.REACT_APP_ANDROID_STAGING_DAPP_URL}`} target=\"_blank\" rel=\"nofollow\">\r\n              Download EPNS App (Android)\r\n            </AppLink>\r\n          </AppLinkText>\r\n           For Android Users\r\n          </>\r\n        </ChannelTitle>\r\n      </ChannelInfo>\r\n    </Container>\r\n    <Container >\r\n      <ChannelInfo>\r\n        <ChannelTitle>\r\n          <ChannelTitleLink href= \"#\" target=\"_blank\" rel=\"nofollow\">\r\n            Click here for our How to Guides\r\n          </ChannelTitleLink>\r\n        </ChannelTitle>\r\n      </ChannelInfo>\r\n    </Container>\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  // display: flex;\r\n  // flex-wrap: wrap;\r\n\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  border: 1px solid rgb(237, 237, 237);\r\n\r\n  margin: 15px 0px;\r\n  justify-content: center;\r\n  padding: 10px;\r\n`\r\n\r\nconst ChannelTitleLink = styled.a`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n  &:hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\nconst AppLink = styled.a`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n  &:hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\nconst AppLinkText = styled.div`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n`\r\nconst ChannelInfo = styled.div`\r\n  flex: 1;\r\n  margin: 5px 10px;\r\n  min-width: 120px;\r\n  flex-grow: 4;\r\n  flex-direction: column;\r\n  display: flex;\r\n`\r\n\r\nconst ChannelTitle = styled.div`\r\n  margin-bottom: 5px;\r\n`\r\n\r\n// Export Default\r\nexport default ViewInfoItem;\r\n","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\nimport Loader from 'react-loader-spinner'\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\n\r\nimport ViewInfoItem from \"components/ViewInfoItem\";\r\n\r\nimport * as dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\n// Other Information section\r\nfunction Info() {\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [controlAt, setControlAt] = React.useState(0);\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  return (\r\n    <Container>\r\n      {loading &&\r\n        <ContainerInfo>\r\n          <Loader\r\n           type=\"Oval\"\r\n           color=\"#35c5f3\"\r\n           height={40}\r\n           width={40}\r\n          />\r\n        </ContainerInfo>\r\n      }\r\n\r\n      {!loading && controlAt == 0 && \r\n      <>\r\n        <InfoBox>\r\n          <ViewInfoItem/>\r\n        </InfoBox>\r\n      </>\r\n      }\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  max-height: 80vh;\r\n`\r\n\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\nconst InfoBox = styled.div`\r\n  padding: 10px 20px;\r\n  display: block;\r\n  align-self: stretch;\r\n  background: #fafafa;\r\n`\r\n\r\n\r\n// Export Default\r\nexport default Info;\r\n","import React from 'react'\r\n\r\nexport const CloseIcon = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10.243\" height=\"10.243\" viewBox=\"0 0 16.243 16.243\">\r\n        <g id=\"Group_4723\" data-name=\"Group 4723\" transform=\"translate(2.121 2.121)\">\r\n            <g id=\"Group_4716\" data-name=\"Group 4716\" transform=\"translate(0)\">\r\n            <line id=\"Line_1079\" data-name=\"Line 1079\" x2=\"16.97\" transform=\"translate(0 12) rotate(-45)\" fill=\"none\" stroke=\"#fff\" stroke-linecap=\"round\" stroke-width=\"3\"/>\r\n            <line id=\"Line_1080\" data-name=\"Line 1080\" y2=\"16.97\" transform=\"translate(0 0) rotate(-45)\" fill=\"none\" stroke=\"#fff\" stroke-linecap=\"round\" stroke-width=\"3\"/>\r\n            </g>\r\n        </g>\r\n    </svg>\r\n);\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport {Section, Content, Item, ItemH, ItemBreak, H1, H2, H3, Image, P, Span, Anchor, Button, Showoff, FormSubmision, Input, TextField} from 'components/SharedStyling';\r\n\r\nimport { BsFillImageFill } from 'react-icons/bs';\r\nimport { FiLink } from 'react-icons/fi';\r\n\r\nimport Dropdown from 'react-dropdown';\r\nimport 'react-dropdown/style.css';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core';\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { CloseIcon } from 'assets/icons';\r\nimport EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\nimport CryptoHelper from 'helpers/CryptoHelper';\r\nconst ethers = require('ethers');\r\n\r\nconst ipfs = require('ipfs-api')();\r\n\r\n// Set Notification Form Type | 0 is reserved for protocol storage\r\nconst NFTypes = [\r\n  { value: \"1\", label: 'Broadcast (IPFS Payload)' },\r\n  { value: \"2\", label: 'Secret (IPFS Payload)' },\r\n  { value: \"3\", label: 'Targetted (IPFS Payload)' },\r\n  { value: \"4\", label: 'Subset (IPFS Payload)' },\r\n];\r\nconst LIMITER_KEYS = ['Enter', ','];\r\n\r\n\r\n// Create Header\r\nfunction SendNotifications() {\r\n  const { active, error, account, library, chainId } = useWeb3React();\r\n\r\n  const [nfProcessing, setNFProcessing] = React.useState(0);\r\n\r\n  const [nfRecipient, setNFRecipient] = React.useState('');\r\n  const [multipleRecipients, setMultipleRecipients] = React.useState([]);\r\n  const [tempRecipeint, setTempRecipient] = React.useState(''); // to temporarily hold the address of one recipient who would be entered into the recipeints array above.\r\n  const [nfType, setNFType] = React.useState('');\r\n\r\n  const [nfSub, setNFSub] = React.useState('');\r\n  const [nfSubEnabled, setNFSubEnabled] = React.useState(false);\r\n\r\n  const [nfMsg, setNFMsg] = React.useState('');\r\n\r\n  const [nfCTA, setNFCTA] = React.useState('');\r\n  const [nfCTAEnabled, setNFCTAEnabled] = React.useState(false);\r\n\r\n  const [nfMedia, setNFMedia] = React.useState('');\r\n  const [nfMediaEnabled, setNFMediaEnabled] = React.useState(false);\r\n\r\n  const [nfInfo, setNFInfo] = React.useState('');\r\n\r\n  // on change for the subset type notifications input\r\n  const handleSubsetInputChange = (e) => {\r\n    // if the user enters in a comma or an enter then seperate the addresses\r\n    if(LIMITER_KEYS.includes(e.key)){\r\n      e.preventDefault();\r\n      // if they enter a limiter key, then add the temp value to the recipeints list\r\n      // then clear the value of the temp text\r\n      setMultipleRecipients((oldRecipients) =>(\r\n        // use this combination to remove duplicates\r\n        Array.from(new Set([\r\n        ...oldRecipients,\r\n        tempRecipeint\r\n        ]))\r\n      ));\r\n      setTempRecipient('');\r\n    }\r\n  };\r\n  // when to remove a subscriber\r\n  const removeRecipient = (recipientAddress) => {\r\n    const filteredRecipients = multipleRecipients.filter(rec => rec !== recipientAddress);\r\n    setMultipleRecipients(filteredRecipients);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    const broadcastIds = [\"1\", \"4\"]; //id's of notifications which qualify as broadcast\r\n    setMultipleRecipients([]); //reset array when type changes/\r\n    if (broadcastIds.includes(nfType)) {\r\n      // This is broadcast, nfRecipient will be the same\r\n      setNFRecipient(account);\r\n    }\r\n    else {\r\n      setNFRecipient('');\r\n    }\r\n  }, [nfType]);\r\n\r\n  // validate the body being sent, return true if no errors\r\n  const bodyValidated = (notificationToast) => {\r\n    let validated = true;\r\n    // if we are sending for a subset and there \r\n    if(nfType === \"4\" && !multipleRecipients.length){\r\n      toast.update(notificationToast, {\r\n        render: \"Please enter at least two recipients in order to use subset notifications type\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000\r\n      });\r\n      validated = false; \r\n    }\r\n    return validated;\r\n  }\r\n\r\n  const handleSendMessage = async (e) => {\r\n    // Check everything in order\r\n    e.preventDefault();\r\n\r\n    // Toastify\r\n    let notificationToast = toast.dark(<LoaderToast msg=\"Preparing Notification\" color=\"#fff\"/>, {\r\n      position: \"bottom-right\",\r\n      autoClose: false,\r\n      hideProgressBar: true,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n\r\n    // do some validation\r\n    if(!bodyValidated(notificationToast)) return;\r\n\r\n    // Set to processing\r\n    setNFProcessing(1);\r\n\r\n    // Form signer and contract connection\r\n    var signer = library.getSigner(account);\r\n    let contract = new ethers.Contract(addresses.epnscore, abis.epnscore, signer);\r\n\r\n    // For payload basic\r\n    let nsub = nfSub;\r\n    let nmsg = nfMsg;\r\n    let secretEncrypted;\r\n\r\n    let asub = nfSub;\r\n    let amsg = nfMsg;\r\n    let acta = nfCTA;\r\n    let aimg = nfMedia;\r\n\r\n    // Decide type and storage\r\n    switch (nfType) {\r\n      // Broadcast Notification\r\n      case \"1\":\r\n        break;\r\n\r\n      // Targetted Notification\r\n      case \"3\":\r\n        break;\r\n\r\n      // Secret Notification\r\n      case \"2\":\r\n        // Create secret\r\n        let secret = CryptoHelper.makeid(14);\r\n\r\n        // Encrypt payload and change sub and nfMsg in notification\r\n        nsub = \"You have a secret message!\";\r\n        nmsg = \"Open the app to see your secret message!\";\r\n\r\n        // get public key from EPNSCoreHelper\r\n        let k = await EPNSCoreHelper.getPublicKey(nfRecipient, contract);\r\n        if (k == null) {\r\n          // No public key, can't encrypt\r\n          setNFInfo(\"Public Key Registration is required for encryption!\");\r\n          setNFProcessing(2);\r\n\r\n          toast.update(notificationToast, {\r\n            render: \"Unable to encrypt for this user, no public key registered\",\r\n            type: toast.TYPE.ERROR,\r\n            autoClose: 5000\r\n          });\r\n\r\n          return;\r\n        }\r\n\r\n        let publickey = k.toString().substring(2);\r\n        //console.log(\"This is public Key: \" + publickey);\r\n\r\n        secretEncrypted = await CryptoHelper.encryptWithECIES(secret, publickey);\r\n        asub = CryptoHelper.encryptWithAES(nfSub, secret);\r\n        amsg = CryptoHelper.encryptWithAES(nfMsg, secret);\r\n        acta = CryptoHelper.encryptWithAES(nfCTA, secret);\r\n        aimg = CryptoHelper.encryptWithAES(nfMedia, secret);\r\n        break;\r\n  \r\n      // Targetted Notification\r\n      case \"4\":\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    // Handle Storage\r\n    let storagePointer = '';\r\n\r\n    // IPFS PAYLOAD --> 1, 2, 3\r\n    if (nfType === \"1\" || nfType === \"2\" || nfType === \"3\" || nfType === \"4\") {\r\n      // Checks for optional fields\r\n      if (nfSubEnabled && isEmpty(nfSub)) {\r\n        setNFInfo(\"Enter Subject or Disable it\");\r\n        setNFProcessing(2);\r\n\r\n        toast.update(notificationToast, {\r\n          render: \"Incorrect Payload\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      if (nfMediaEnabled && isEmpty(nfMedia)) {\r\n        setNFInfo(\"Enter Media URL or Disable it\");\r\n        setNFProcessing(2);\r\n\r\n        toast.update(notificationToast, {\r\n          render: \"Incorrect Payload\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (nfCTAEnabled && isEmpty(nfCTA)) {\r\n        setNFInfo(\"Enter Call to Action Link or Disable it\");\r\n        setNFProcessing(2);\r\n\r\n        toast.update(notificationToast, {\r\n          render: \"Incorrect Payload\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (isEmpty(nfMsg)) {\r\n        setNFInfo(\"Message cannot be empty\");\r\n        setNFProcessing(2);\r\n\r\n        toast.update(notificationToast, {\r\n          render: \"Incorrect Payload\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000\r\n        });\r\n        return;\r\n      }\r\n\r\n      const jsonPayload = {\r\n        \"notification\": {\r\n          \"title\": nsub,\r\n          \"body\": nmsg\r\n        },\r\n        \"data\": {\r\n          \"type\": nfType,\r\n          \"secret\": secretEncrypted,\r\n          \"asub\": asub,\r\n          \"amsg\": amsg,\r\n          \"acta\": acta,\r\n          \"aimg\": aimg\r\n        }\r\n      };\r\n\r\n      // if we are sending a subset type, then include recipients\r\n      if(nfType === \"4\"){\r\n        jsonPayload[\"recipients\"] = [...multipleRecipients];\r\n      }\r\n      console.log('\\n\\n\\n\\n\\n\\n');\r\n      console.log(jsonPayload);\r\n      console.log('\\n\\n\\n\\n\\n\\n');\r\n\r\n      const input = JSON.stringify(jsonPayload);\r\n\r\n      console.log(\"Uploding to IPFS...\");\r\n      toast.update(notificationToast, {\r\n        render: \"Uploding to IPFS...\",\r\n      });\r\n\r\n      const ipfs = require(\"nano-ipfs-store\").at(\"https://ipfs.infura.io:5001\");\r\n\r\n      try {\r\n        storagePointer = await ipfs.add(input);\r\n      }\r\n      catch (e) {\r\n        setNFProcessing(2);\r\n        setNFInfo(\"IPFS Upload Error\");\r\n      }\r\n\r\n      console.log (\"IPFS cid: %o\", storagePointer);\r\n      toast.update(notificationToast, {\r\n        render: \"IPFS HASH: \" + storagePointer,\r\n      });\r\n\r\n    }\r\n\r\n    // Prepare Identity and send notification\r\n    const identity = nfType + \"+\" + storagePointer;\r\n    const identityBytes = ethers.utils.toUtf8Bytes(identity);\r\n\r\n    var anotherSendTxPromise = contract.sendNotification(nfRecipient, identityBytes);\r\n\r\n    console.log (\"Sending Transaction... \");\r\n    toast.update(notificationToast, {\r\n      render: \"Sending Transaction...\",\r\n    });\r\n\r\n    anotherSendTxPromise\r\n      .then(async (tx) => {\r\n        console.log(tx);\r\n        console.log (\"Transaction Sent!\");\r\n\r\n        toast.update(notificationToast, {\r\n          render: \"Transaction Sent\",\r\n          type: toast.TYPE.INFO,\r\n          autoClose: 5000\r\n        });\r\n\r\n        await tx.wait(1);\r\n        console.log (\"Transaction Mined!\");\r\n\r\n        setNFProcessing(2);\r\n        setNFType('');\r\n        setNFInfo(\"Notification Sent\");\r\n\r\n        toast.update(notificationToast, {\r\n          render: \"Transaction Mined / Notification Sent\",\r\n          type: toast.TYPE.SUCCESS,\r\n          autoClose: 5000\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(\"!!!Error handleSendMessage() --> %o\", err);\r\n        setNFInfo(\"Transaction Failed, please try again\");\r\n\r\n        toast.update(notificationToast, {\r\n          render: \"Transacion Failed: \" + err,\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000\r\n        });\r\n      });\r\n  }\r\n\r\n  const isEmpty = (field) => {\r\n    if (field.trim().length == 0) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Loader\r\n       type=\"Oval\"\r\n       color={color}\r\n       height={30}\r\n       width={30}\r\n      />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Content padding=\"10px 20px 20px\">\r\n          <Item align=\"flex-start\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span weight=\"200\">Send </Span><Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Notification</Span>\r\n            </H2>\r\n            <H3>EPNS supports four types of notifications (for now!). <b>Groups</b>, <b>Secrets</b>, <b>Targetted</b> and <b>Subsets</b>.</H3>\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n\r\n      <Section>\r\n        <Content>\r\n          <Item align=\"stretch\">\r\n            <FormSubmision\r\n              flex=\"1\"\r\n              direction=\"column\"\r\n              margin=\"0px\"\r\n              justify=\"center\"\r\n              size=\"1.1rem\"\r\n              onSubmit={handleSendMessage}\r\n            >\r\n              <Item margin =\"0px 20px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                <Item flex=\"5\" justify=\"flex-start\" align=\"stretch\" minWidth=\"280px\">\r\n                  <DropdownStyledParent>\r\n                    <DropdownStyled options={NFTypes} onChange={(option) => {setNFType(option.value); console.log(option)}} value={nfType} placeholder=\"Select Type of Notification to Send\" />\r\n                  </DropdownStyledParent>\r\n                </Item>\r\n                <Input display=\"none\" value={nfType} onChange={(e) => {setNFType(e.target.value)}} />\r\n\r\n                {nfType &&\r\n                  <ItemH margin=\"0px 15px 15px 15px\" bg=\"#f1f1f1\" flex=\"1\" self=\"stretch\" justify=\"space-between\">\r\n                    <ItemH margin=\"15px 10px\" flex=\"inital\">\r\n                      <Span margin=\"0px 10px 0px 0px\" weight=\"400\" spacing=\"0.1em\" textTransform=\"uppercase\" size=\"0.8em\" bg=\"#e20880\" color=\"#fff\" padding=\"5px 15px\" radius=\"30px\">Enable Subject</Span>\r\n                      <Switch color=\"primary\" size=\"small\" checked={nfSubEnabled} onChange={() => setNFSubEnabled(!nfSubEnabled)} />\r\n                    </ItemH>\r\n\r\n                    <ItemH margin=\"15px 10px\" flex=\"inital\">\r\n                      <Span margin=\"0px 10px 0px 0px\" weight=\"400\" spacing=\"0.1em\" textTransform=\"uppercase\" size=\"0.8em\" bg=\"#e20880\" color=\"#fff\" padding=\"5px 15px\" radius=\"30px\">Enable Media</Span>\r\n                      <Switch color=\"primary\" size=\"small\" checked={nfMediaEnabled} onChange={() => setNFMediaEnabled(!nfMediaEnabled)} />\r\n                    </ItemH>\r\n\r\n                    <ItemH margin=\"15px 10px\" flex=\"inital\">\r\n                      <Span margin=\"0px 10px 0px 0px\" weight=\"400\" spacing=\"0.1em\" textTransform=\"uppercase\" size=\"0.8em\" bg=\"#e20880\" color=\"#fff\" padding=\"5px 15px\" radius=\"30px\">Enable CTA</Span>\r\n                      <Switch color=\"primary\" size=\"small\" checked={nfCTAEnabled} onChange={() => setNFCTAEnabled(!nfCTAEnabled)} />\r\n                    </ItemH>\r\n                  </ItemH>\r\n                }\r\n              </Item>\r\n\r\n              {!nfType &&\r\n                <Item padding=\"0px 20px 30px 20px\" />\r\n              }\r\n\r\n              {(nfType === \"2\" || nfType === \"3\") &&\r\n                <Item margin=\"15px 20px 15px 20px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                  <Input\r\n                    required\r\n                    placeholder=\"Enter recipient wallet address\"\r\n                    radius=\"4px\"\r\n                    padding=\"12px\"\r\n                    border=\"1px solid #674c9f\"\r\n                    bg=\"#fff\"\r\n                    value={nfRecipient}\r\n                    onChange={(e) => {setNFRecipient(e.target.value)}}\r\n                  />\r\n                  {nfRecipient.trim().length == 0 &&\r\n                      <Span\r\n                        padding=\"4px 10px\"\r\n                        right=\"0px\"\r\n                        top=\"0px\"\r\n                        pos=\"absolute\"\r\n                        color=\"#fff\"\r\n                        bg=\"#000\"\r\n                        size=\"0.7rem\"\r\n                        z=\"1\"\r\n                      >\r\n                        Recipient Wallet\r\n                      </Span>\r\n                    }\r\n                </Item>\r\n              }\r\n\r\n              {(nfType === \"4\") &&\r\n              <>\r\n                <MultiRecipientsContainer>\r\n                  {\r\n                    multipleRecipients.map(oneRecipient => (\r\n                      <span key={oneRecipient}>\r\n                        {oneRecipient}\r\n                        <i onClick={() => removeRecipient(oneRecipient)}><CloseIcon /></i>\r\n                      </span>\r\n                    ))\r\n                  }\r\n                </MultiRecipientsContainer>\r\n                <Item margin=\"15px 20px 15px 20px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                  <Input\r\n                    required={multipleRecipients.length === 0}\r\n                    placeholder=\"Enter recipients wallet addresses seperated by a comma or by pressing the enter key\"\r\n                    radius=\"4px\"\r\n                    padding=\"12px\"\r\n                    border=\"1px solid #674c9f\"\r\n                    bg=\"#fff\"\r\n                    value={tempRecipeint}\r\n                    onKeyPress={handleSubsetInputChange}\r\n                    onChange={e => {\r\n                      const text = e.target.value;\r\n                      if(!LIMITER_KEYS.includes(text)){\r\n                        setTempRecipient(e.target.value)\r\n                      }\r\n                    }}\r\n                  />\r\n                  {nfRecipient.trim().length == 0 &&\r\n                      <Span\r\n                        padding=\"4px 10px\"\r\n                        right=\"0px\"\r\n                        top=\"0px\"\r\n                        pos=\"absolute\"\r\n                        color=\"#fff\"\r\n                        bg=\"#000\"\r\n                        size=\"0.7rem\"\r\n                        z=\"1\"\r\n                      >\r\n                        Recipient Wallet\r\n                      </Span>\r\n                    }\r\n                </Item>\r\n              </>\r\n              }\r\n\r\n              {nfType && nfSubEnabled &&\r\n                <Item margin=\"15px 20px 15px 20px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                  <Input\r\n                    required\r\n                    placeholder=\"Subject of Notification\"\r\n                    padding=\"12px\"\r\n                    borderBottom=\"1px solid #000\"\r\n                    weight=\"400\"\r\n                    size=\"1.2em\"\r\n                    bg=\"#fff\"\r\n                    value={nfSub}\r\n                    onChange={(e) => {setNFSub(e.target.value)}}\r\n                  />\r\n                  {nfSub.trim().length == 0 &&\r\n                      <Span\r\n                        padding=\"4px 10px\"\r\n                        right=\"0px\"\r\n                        top=\"0px\"\r\n                        pos=\"absolute\"\r\n                        color=\"#fff\"\r\n                        bg=\"#000\"\r\n                        size=\"0.7rem\"\r\n                        z=\"1\"\r\n                      >\r\n                        Subject\r\n                      </Span>\r\n                    }\r\n                </Item>\r\n              }\r\n\r\n              {nfType &&\r\n                <Item margin=\"15px 20px 15px 20px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                  <TextField\r\n                    required\r\n                    placeholder=\"Notification Message\"\r\n                    rows=\"6\"\r\n                    radius=\"4px\"\r\n                    padding=\"12px\"\r\n                    weight=\"400\"\r\n                    border=\"1px solid #000\"\r\n                    bg=\"#fff\"\r\n                    value={nfMsg}\r\n                    onChange={(e) => {setNFMsg(e.target.value)}}\r\n                    autocomplete=\"off\"\r\n                  />\r\n                </Item>\r\n              }\r\n\r\n              {nfType && nfMediaEnabled &&\r\n                <ItemH padding=\"15px 20px 15px 20px\" flex=\"1\" self=\"stretch\" align=\"center\">\r\n                  <Item flex=\"0\" margin=\"0px 5px 0px 0px\">\r\n                    <BsFillImageFill size={24} color=\"#000\"/>\r\n                  </Item>\r\n                  <Item flex=\"1\" margin=\"0px 0px 0px 5px\" align=\"stretch\">\r\n                    <Input\r\n                      required\r\n                      placeholder=\"Media URL for Notification\"\r\n                      padding=\"12px\"\r\n                      border=\"1px solid #000\"\r\n                      radius=\"4px\"\r\n                      weight=\"400\"\r\n                      bg=\"#f1f1f1\"\r\n                      value={nfMedia}\r\n                      onChange={(e) => {setNFMedia(e.target.value)}}\r\n                    />\r\n                    {nfMedia.trim().length == 0 &&\r\n                        <Span\r\n                          padding=\"4px 10px\"\r\n                          right=\"0px\"\r\n                          top=\"0px\"\r\n                          pos=\"absolute\"\r\n                          color=\"#fff\"\r\n                          bg=\"#000\"\r\n                          size=\"0.7rem\"\r\n                          z=\"1\"\r\n                        >\r\n                          Media URL\r\n                        </Span>\r\n                      }\r\n                    </Item>\r\n                </ItemH>\r\n              }\r\n\r\n              {nfType && nfCTAEnabled &&\r\n                <ItemH margin=\"15px 20px 15px 20px\" flex=\"1\" self=\"stretch\" align=\"center\">\r\n                  <Item flex=\"0\" margin=\"0px 5px 0px 0px\">\r\n                    <FiLink size={24} color=\"#000\"/>\r\n                  </Item>\r\n                  <Item flex=\"1\" margin=\"0px 0px 0px 5px\" align=\"stretch\">\r\n                    <Input\r\n                      required\r\n                      placeholder=\"Call to Action Link\"\r\n                      padding=\"12px\"\r\n                      border=\"1px solid #000\"\r\n                      radius=\"4px\"\r\n                      weight=\"400\"\r\n                      bg=\"#f1f1f1\"\r\n                      value={nfCTA}\r\n                      onChange={(e) => {setNFCTA(e.target.value)}}\r\n                    />\r\n                    {nfCTA.trim().length == 0 &&\r\n                        <Span\r\n                          padding=\"4px 10px\"\r\n                          right=\"0px\"\r\n                          top=\"0px\"\r\n                          pos=\"absolute\"\r\n                          color=\"#fff\"\r\n                          bg=\"#000\"\r\n                          size=\"0.7rem\"\r\n                          z=\"1\"\r\n                        >\r\n                          Call to Action URL\r\n                        </Span>\r\n                      }\r\n                    </Item>\r\n                </ItemH>\r\n              }\r\n\r\n              {nfInfo && nfProcessing != 1 &&\r\n                <Item\r\n                  color=\"#fff\"\r\n                  bg=\"#e1087f\"\r\n                  padding=\"10px 15px\"\r\n                  margin = \"15px 0px\"\r\n                >\r\n                  <Span\r\n                    color=\"#fff\"\r\n                    textTransform=\"uppercase\"\r\n                    spacing=\"0.1em\"\r\n                    weight=\"400\"\r\n                    size=\"1em\"\r\n                  >\r\n                    {nfInfo}\r\n                  </Span>\r\n                </Item>\r\n              }\r\n\r\n              {nfType &&\r\n                <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                  <Button\r\n                    bg='#e20880'\r\n                    color='#fff'\r\n                    flex=\"1\"\r\n                    radius=\"0px\"\r\n                    padding=\"20px 10px\"\r\n                    disabled={nfProcessing == 1 ? true : false}\r\n                  >\r\n                    {nfProcessing == 1 &&\r\n                      <Loader\r\n                         type=\"Oval\"\r\n                         color=\"#fff\"\r\n                         height={24}\r\n                         width={24}\r\n                        />\r\n                    }\r\n                    {nfProcessing != 1 &&\r\n                      <Input cursor=\"hand\" textTransform=\"uppercase\" color=\"#fff\" weight=\"400\" size=\"0.8em\" spacing=\"0.2em\" type=\"submit\" value=\"Send Notification\" />\r\n                    }\r\n                  </Button>\r\n                </Item>\r\n              }\r\n            </FormSubmision>\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n\r\n\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst DropdownStyledParent = styled.div `\r\n  .is-open {\r\n    margin-bottom: 130px;\r\n  }\r\n`\r\n\r\nconst MultiRecipientsContainer = styled.div`\r\n  width: 100%;\r\n  padding: 0px 20px;\r\n  padding-top: 10px;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 7px 15px;\r\n  \r\n  span {\r\n    color: white;\r\n    background: #e20880;\r\n    padding: 6px 10px;\r\n    border-radius: 5px;\r\n\r\n    i{\r\n      cursor: pointer;\r\n      margin-left: 25px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst DropdownStyled = styled(Dropdown)`\r\n\r\n  .Dropdown-control {\r\n    background-color: #000;\r\n    color: #fff;\r\n    padding: 12px 52px 12px 10px;\r\n    border: 1px solid #000;\r\n    border-radius: 4px;\r\n  }\r\n\r\n  .Dropdown-placeholder {\r\n    text-transform: uppercase;\r\n    font-weight: 400;\r\n    letter-spacing: 0.2em;\r\n    font-size: 0.8em;\r\n  }\r\n\r\n  .Dropdown-arrow {\r\n    top: 18px;\r\n    bottom: 0;\r\n    border-color: #fff transparent transparent;\r\n  }\r\n\r\n  .Dropdown-menu {\r\n    border: 1px solid #000;\r\n    box-shadow: none;\r\n    background-color: #000;\r\n    border-radius: 0px;\r\n    margin-top: -3px;\r\n    border-bottom-right-radius: 4px;\r\n    border-bottom-left-radius: 4px;\r\n  }\r\n\r\n  .Dropdown-option {\r\n    background-color: rgb(35 35 35);\r\n    color: #ffffff99;\r\n\r\n    text-transform: uppercase;\r\n    letter-spacing: 0.2em;\r\n    font-size: 0.7em;\r\n    padding: 15px 20px;\r\n  }\r\n\r\n  .Dropdown-option:hover {\r\n    background-color: #000000;\r\n    color: #fff;\r\n  }\r\n`\r\n\r\n\r\n// Export Default\r\nexport default SendNotifications;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport {Section, Content} from 'components/SharedStyling';\r\n\r\nimport SendNotifications from 'components/SendNotifications';\r\n\r\n// CREATE CHANNEL OWNER DASHBOARD\r\nfunction ChannelOwnerDashboard() {\r\n  React.useEffect(() => {\r\n\r\n  });\r\n\r\n  // RRENDER\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Content padding=\"0px\">\r\n          <SendNotifications />\r\n        </Content>\r\n      </Section>\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\n\r\n\r\n// Export Default\r\nexport default ChannelOwnerDashboard;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport {Section, Content} from 'components/SharedStyling';\r\n\r\nimport CreateChannel from 'components/CreateChannel';\r\n\r\n// CREATE CHANNEL OWNER DASHBOARD\r\nfunction ChannelCreationDashboard() {\r\n  React.useEffect(() => {\r\n\r\n  });\r\n\r\n  // RRENDER\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Content padding=\"0px\">\r\n          <CreateChannel />\r\n        </Content>\r\n      </Section>\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\n\r\n\r\n// Export Default\r\nexport default ChannelCreationDashboard;\r\n","import React from \"react\";\r\nimport ReactGA from 'react-ga';\r\n\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { ethers } from \"ethers\";\r\n\r\nimport Loader from 'react-loader-spinner'\r\n\r\nimport EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\n\r\nimport Feedbox from 'segments/Feedbox';\r\nimport ViewChannels from 'segments/ViewChannels';\r\nimport Info from \"segments/Info\";\r\nimport ChannelOwnerDashboard from 'segments/ChannelOwnerDashboard';\r\nimport ChannelCreationDashboard from 'segments/ChannelCreationDashboard';\r\n\r\nimport ChannelsDataStore, { ChannelEvents } from \"singletons/ChannelsDataStore\";\r\nimport UsersDataStore, { UserEvents } from \"singletons/UsersDataStore\";\r\n\r\n\r\n// Create Header\r\nfunction Home({ setBadgeCount, bellPressed }) {\r\n  ReactGA.pageview('/home');\r\n\r\n  const { active, error, account, library, chainId } = useWeb3React();\r\n\r\n  const [epnsReadProvider, setEpnsReadProvider] = React.useState(null);\r\n  const [epnsWriteProvider, setEpnsWriteProvider] = React.useState(null);\r\n\r\n  const [controlAt, setControlAt] = React.useState(0);\r\n  const [adminStatusLoaded, setAdminStatusLoaded] = React.useState(false);\r\n  const [channelAdmin, setChannelAdmin] = React.useState(false);\r\n  const [channelJson, setChannelJson] = React.useState([]);\r\n\r\n\r\n\r\n  React.useEffect(() => {\r\n    const contractInstance = new ethers.Contract(addresses.epnscore, abis.epnscore, library);\r\n    setEpnsReadProvider(contractInstance);\r\n\r\n    if (!!(library && account)) {\r\n      let signer = library.getSigner(account);\r\n      const signerInstance = new ethers.Contract(addresses.epnscore, abis.epnscore, signer);\r\n      setEpnsWriteProvider(signerInstance);\r\n    }\r\n\r\n  }, [account]);\r\n\r\n  React.useEffect(() => {\r\n    // Reset when account refreshes\r\n    setChannelAdmin(false);\r\n    setAdminStatusLoaded(false);\r\n    userClickedAt(1);\r\n    setChannelJson([]);\r\n\r\n    // EPNS Read Provider Set\r\n    if (epnsReadProvider != null) {\r\n      // Instantiate Data Stores\r\n      UsersDataStore.instance.init(account, epnsReadProvider);\r\n      ChannelsDataStore.instance.init(account, epnsReadProvider);\r\n\r\n      checkUserForChannelRights();\r\n    }\r\n\r\n  }, [epnsReadProvider]);\r\n\r\n\r\n  // Revert to Feedbox on bell pressed\r\n  React.useEffect(() => {\r\n    setControlAt(0);\r\n  }, [bellPressed]);\r\n\r\n  // handle user action at control center\r\n  const userClickedAt = (controlIndex) => {\r\n    setControlAt(controlIndex);\r\n  }\r\n\r\n  //Start Listening...\r\n  const listenerForChannelRights = async () => {\r\n    ChannelsDataStore.instance.addCallbacks(\r\n      ChannelEvents.ADD_CHANNEL_SELF,\r\n      \"FromCreateChannel\",\r\n      () => {\r\n        checkUserForChannelRights();\r\n      }\r\n    );\r\n  }\r\n\r\n  // Check if a user is a channel or not\r\n  const checkUserForChannelRights = async () => {\r\n    // Check if account is admin or not and handle accordingly\r\n    EPNSCoreHelper.getChannelJsonFromUserAddress(account, epnsReadProvider)\r\n      .then(response => {\r\n        console.log(response);\r\n        setChannelJson(response);\r\n        setChannelAdmin(true);\r\n        setAdminStatusLoaded(true);\r\n      })\r\n      .catch(e => {\r\n        setChannelAdmin(false);\r\n        setAdminStatusLoaded(true);\r\n      });\r\n\r\n    // Start listening\r\n    listenerForChannelRights();\r\n  }\r\n\r\n  // Render\r\n  return (\r\n    <Container>\r\n      <Controls>\r\n        <ControlButton index={0} active={controlAt == 0 ? 1 : 0} border=\"#e20880\"\r\n          onClick={() => {\r\n            userClickedAt(0)\r\n          }}\r\n        >\r\n          <ControlImage src=\"./svg/feedbox.svg\" active={controlAt == 0 ? 1 : 0} />\r\n          <ControlText active={controlAt == 0 ? 1 : 0}>Feedbox</ControlText>\r\n        </ControlButton>\r\n\r\n        <ControlButton index={1} active={controlAt == 1 ? 1 : 0} border=\"#35c5f3\"\r\n          onClick={() => {\r\n            userClickedAt(1)\r\n          }}\r\n        >\r\n          <ControlImage src=\"./svg/channel.svg\" active={controlAt == 1 ? 1 : 0}/>\r\n          <ControlText active={controlAt == 1 ? 1 : 0}>Channels</ControlText>\r\n        </ControlButton>\r\n\r\n        <ControlButton index={2} active={controlAt == 2 ? 1 : 0} border=\"#674c9f\"\r\n          disabled={!adminStatusLoaded}\r\n          onClick={() => {\r\n            if (adminStatusLoaded) {\r\n              userClickedAt(2)\r\n            }\r\n          }}\r\n        >\r\n          {!adminStatusLoaded &&\r\n            <Loader\r\n               type=\"Oval\"\r\n               color=\"#674c9f\"\r\n               height={32}\r\n               width={32}\r\n            />\r\n          }\r\n          {channelAdmin && adminStatusLoaded &&\r\n            <ControlChannelContainer>\r\n              <ControlChannelImage src={`${channelJson.icon}`} active={controlAt == 2 ? 1 : 0}/>\r\n              <ControlChannelText active={controlAt == 2 ? 1 : 0}>{channelJson.name}</ControlChannelText>\r\n            </ControlChannelContainer>\r\n          }\r\n          {!channelAdmin && adminStatusLoaded &&\r\n            <>\r\n              <ControlImage src=\"./svg/channeladmin.svg\" active={controlAt == 2 ? 1 : 0}/>\r\n              <ControlText active={controlAt == 2 ? 1 : 0}>Create Your Channel</ControlText>\r\n            </>\r\n          }\r\n        </ControlButton>\r\n\r\n        <ControlButton index={3} active={controlAt == 3 ? 1 : 0} border=\"#e20880\"\r\n          onClick={() => {\r\n            userClickedAt(3)\r\n          }}\r\n        >\r\n          <ControlImage src=\"./svg/share.svg\" active={controlAt == 3 ? 1 : 0} />\r\n          <ControlText active={controlAt == 3 ? 1 : 0}>Receive Notifs</ControlText>\r\n        </ControlButton>\r\n      </Controls>\r\n      <Interface>\r\n        {controlAt == 0 &&\r\n          <Feedbox\r\n            epnsReadProvider={epnsReadProvider}\r\n          />\r\n        }\r\n        {controlAt == 1 &&\r\n          <ViewChannels\r\n            epnsReadProvider={epnsReadProvider}\r\n            epnsWriteProvide={epnsWriteProvider}\r\n          />\r\n        }\r\n        {controlAt == 2 && !channelAdmin && adminStatusLoaded &&\r\n          <ChannelCreationDashboard />\r\n        }\r\n        {controlAt == 2 && channelAdmin && adminStatusLoaded &&\r\n          <ChannelOwnerDashboard />\r\n        }\r\n        {controlAt == 3 &&\r\n          <Info/>\r\n        }\r\n      </Interface>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css style\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: block;\r\n  flex-direction: column;\r\n  min-height: calc(100vh - 100px);\r\n`\r\n\r\nconst Controls = styled.div`\r\n  flex: 0;\r\n  display: flex;\r\n  flex-direction: row;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst ControlButton = styled.div`\r\n  flex: 1 1 21%;\r\n  height: 120px;\r\n  min-width: 200px;\r\n  background: #fff;\r\n\r\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 15px;\r\n  border: 1px solid rgb(225,225,225);\r\n\r\n  border-bottom: 10px solid rgb(180,180,180);\r\n  margin: 20px;\r\n  overflow: hidden;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  border-bottom: 10px solid ${(props) => props.active ? props.border : \"rgb(180,180,180)\"};\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\nconst ControlImage = styled.img`\r\n  height: 30%;\r\n  margin-right: 15px;\r\n  filter: ${(props) => props.active ? \"brightness(1)\" : \"brightness(0)\"};\r\n  opacity: ${(props) => props.active ? \"1\" : \"0.25\"};\r\n\r\n  transition: transform .2s ease-out;\r\n  ${ props => props.active && css`\r\n    transform: scale(3.5) translate(-20px, 0px);\r\n    opacity: 0.4;\r\n  `};\r\n`\r\n\r\nconst ControlText = styled.label`\r\n  font-size: 16px;\r\n  font-weight: 200;\r\n  opacity: ${(props) => props.active ? \"1\" : \"0.75\"};\r\n\r\n  transition: transform .2s ease-out;\r\n  ${ props => props.active && css`\r\n    transform: scale(1.3) translate(-10px, 0px);\r\n  `};\r\n`\r\n\r\nconst ControlChannelContainer = styled.div`\r\n  margin: 0px 20px;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  display: flex;\r\n`\r\n\r\nconst ControlChannelImage = styled.img`\r\n    width: 20%;\r\n    margin-bottom: 10px;\r\n    transition: transform .2s ease-out;\r\n    ${ props => props.active && css`\r\n      transform: scale(3.5) translate(-40px, 5px);\r\n      opacity: 0.2;\r\n      z-index: 1;\r\n    `};\r\n`\r\n\r\nconst ControlChannelText = styled.label`\r\n  font-size: 16px;\r\n  font-weight: 300;\r\n  opacity: ${(props) => props.active ? \"1\" : \"0.75\"};\r\n  transition: transform .2s ease-out;\r\n  background: -webkit-linear-gradient(#db268a, #34c6f3);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  z-index: 2;\r\n  ${ props => props.active && css`\r\n    transform: scale(1.1) translate(0px, -20px);\r\n  `};\r\n\r\n`\r\n\r\nconst Interface = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n\r\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 20px;\r\n  border: 1px solid rgb(225,225,225);\r\n\r\n  margin: 15px;\r\n  overflow: hidden;\r\n`\r\n\r\n// Export Default\r\nexport default Home;\r\n","// Usage:\r\n//   create component file (e.g. BlockiesIdenticon.js) using uncommented code below\r\n//   npm install blockies-identicon\r\n//   in the file you want to use the component (e.g. BlockiesIdenticon.js):\r\n//   import Blockies from \"blockies/react-component\";\r\n//   <Blockies opts={{seed: \"foo\", color: \"#dfe\", bgcolor: \"#a71\", size: 15, scale: 3, spotcolor: \"#000\"}}/>\r\n\r\nimport React from 'react';\r\nimport blockies from \"./blockies\";\r\n\r\nexport default class BlockiesIdenticon extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  getOpts () {\r\n    return {\r\n      seed: this.props.opts.seed || \"foo\",\r\n      color: this.props.opts.color || \"#dfe\",\r\n      bgcolor: this.props.opts.bgcolor || \"#a71\",\r\n      size: this.props.opts.size || 15,\r\n      scale: this.props.opts.scale || 3,\r\n      spotcolor: this.props.opts.spotcolor || \"#000\"\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.draw();\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    // Check for prop change\r\n    if (this.props.seed !== prevProps.seed) {\r\n      this.draw();\r\n    }\r\n  }\r\n  draw() {\r\n    blockies.render({\r\n      seed: this.props.opts.seed,\r\n      size: this.props.opts.size,\r\n      scale: this.props.opts.scale\r\n    }, this.canvas);\r\n  }\r\n  render() {\r\n    return React.createElement(\"canvas\", {ref: canvas => this.canvas = canvas});\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\r\n\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport Loader from 'react-loader-spinner'\r\nimport Blockies from \"components/BlockiesIdenticon\";\r\n//   <Blockies opts={{seed: \"foo\", color: \"#dfe\", bgcolor: \"#a71\", size: 15, scale: 3, spotcolor: \"#000\"}}/>\r\n\r\n// Create Header\r\nfunction Profile() {\r\n  const { active, error, account, library, chainId } = useWeb3React();\r\n\r\n  const [address, setAddress] = React.useState('');\r\n  const [ens, setENS] = React.useState('');\r\n  const [ensFetched, setENSFetched] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (account && account != '') {\r\n      // Check if the address is the same\r\n      if (address !== account) {\r\n        setENS('');\r\n        setENSFetched(false);\r\n\r\n        // get ens\r\n        library\r\n          .lookupAddress(account).then(function(name) {\r\n            setENS(name);\r\n            setENSFetched(true);\r\n            setAddress(account);\r\n          })\r\n          .catch(() => {\r\n            setENSFetched(true);\r\n            setAddress(account);\r\n          })\r\n      }\r\n\r\n    }\r\n  }, [account]);\r\n\r\n  // to create blockies\r\n\r\n  return (\r\n    <>\r\n    {account && account !== '' && !error &&\r\n      <Container>\r\n        <Blocky>\r\n          <BlockyInner>\r\n             <Blockies seed={account.toLowerCase()} opts={{seed: account.toLowerCase(), size: 7, scale: 7}}/>\r\n          </BlockyInner>\r\n        </Blocky>\r\n        <Wallet>\r\n        {!ensFetched &&\r\n          <Loader\r\n      \t     type=\"Oval\"\r\n      \t     color=\"#FFF\"\r\n      \t     height={16}\r\n      \t     width={16}\r\n      \t  />\r\n        }\r\n        {ensFetched && ens &&\r\n          <>{ens}</>\r\n        }\r\n        {ensFetched && !ens &&\r\n          <>{account.substring(0, 6)}.....{account.substring(account.length - 6)}</>\r\n        }\r\n        </Wallet>\r\n      </Container>\r\n    }\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.button`\r\n  margin: 0;\r\n  padding: 0;\r\n  background: none;\r\n  border: 0;\r\n  outline: 0;\r\n  justify-content: flex-start;\r\n  flex: 1,\r\n  flex-direction: row;\r\n  align-items: center;\r\n  display: flex;\r\n`\r\n\r\nconst Blocky = styled.div`\r\n  position: relative;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 100%;\r\n  overflow: hidden;\r\n  transform: scale(0.85);\r\n  outline-width: 2px;\r\n  outline-color: rgba(225,225,225,1);\r\n`\r\n\r\nconst BlockyInner = styled.div`\r\n`\r\n\r\nconst Wallet = styled.span`\r\n  margin: 0px 10px;\r\n  padding: 8px 15px;\r\n  height: 16px;\r\n  display: flex;\r\n  align-items: baseline;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  color: #fff;\r\n  border-radius: 15px;\r\n  background: rgb(226,8,128);\r\n  background: linear-gradient(107deg, rgba(226,8,128,1) 30%, rgba(103,76,159,1) 70%, rgba(53,197,243,1) 100%);\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\n// Export Default\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport styled, { css, keyframes } from 'styled-components';\r\nimport { AnimateOnChange } from 'react-animation';\r\n\r\n// Create Header\r\nfunction Bell({ badgeCount, bellPressedCB, width, height }) {\r\n  const [badge, setBadge] = React.useState(0);\r\n  const [ring, setRing] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    // Set new badge count and ring the bell\r\n    setBadge(badgeCount);\r\n\r\n    if (badge > 0) {\r\n      setResetRinger();\r\n    }\r\n  }, [badgeCount]);\r\n\r\n  const setResetRinger = () => {\r\n    setRing(true);\r\n\r\n    setTimeout(() => {\r\n        setRing(false)\r\n    }, 500);\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      onClick={() => {\r\n        if (bellPressedCB) {bellPressedCB();}\r\n      }}\r\n      width={width}\r\n      height={height}\r\n    >\r\n      <BellImage ring={ring} src=\"./bell.png\" className=\"tadaaa\" ringme={ring} width={width} height={height} />\r\n      <BellImageAbs src=\"./bellball.png\" width={width} height={height} />\r\n      <BellImageAbs src=\"./ring.png\" width={width} height={height} />\r\n      {badge != 0 &&\r\n        <AnimateOnChange\r\n          animationIn=\"fadeIn\"\r\n          animationOut=\"fadeOut\"\r\n          durationOut={200}\r\n        >\r\n          <Badge>{badge}</Badge>\r\n        </AnimateOnChange>\r\n      }\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  background: transparent;\r\n  border: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 10px;\r\n  position: relative;\r\n  height: ${props => props.height || 40}px;\r\n  width: ${props => props.width || 40}px;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\nconst tadaaa = keyframes`\r\n  0% {\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    -ms-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1);\r\n  }\r\n\r\n  10%, 20% {\r\n    -webkit-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\r\n    -ms-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\r\n    transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\r\n  }\r\n\r\n  30%, 50%, 70%, 90% {\r\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\r\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\r\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\r\n  }\r\n\r\n  40%, 60%, 80% {\r\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\r\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\r\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\r\n  }\r\n\r\n  100% {\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    -ms-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1);\r\n  }\r\n`;\r\n\r\nconst BellImage = styled.img`\r\n  position: absolute;\r\n  height: ${props => props.height || 40}px;\r\n  width: ${props => props.width || 40}px;\r\n\r\n  transition: transform .2s ease-out;\r\n  ${ props => props.ringme && css`\r\n    animation: ${tadaaa} 1s ease-out;\r\n  `};\r\n\r\n\r\n`\r\n\r\nconst BellImageAbs = styled(BellImage)`\r\n  left: 0,\r\n`\r\n\r\nconst Badge = styled.span`\r\n  position: absolute;\r\n  font-size: 10px;\r\n  color: #fff;\r\n  padding: 2px 4px;\r\n  border-radius: 100%;\r\n  background: rgba(208.0, 44.0, 30.0, 1.0);\r\n  top: 0px;\r\n  left: 5px;\r\n  font-weight: bold;\r\n`\r\n\r\n// Export Default\r\nexport default Bell;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from \"styled-components\";\r\nimport {Section, Content, Item, ItemH, Button} from 'components/SharedStyling';\r\n\r\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\r\nimport {\r\n  NoEthereumProviderError,\r\n  UserRejectedRequestError as UserRejectedRequestErrorInjected\r\n} from '@web3-react/injected-connector'\r\nimport { Web3Provider } from 'ethers/providers'\r\n\r\nimport Profile from 'components/Profile';\r\nimport Bell from 'components/Bell';\r\n\r\n\r\n// Create Header\r\nfunction Header({ badgeCount, bellPressedCB }) {\r\n  const context = useWeb3React<Web3Provider>()\r\n\r\n  const { active, error, account, chainId } = useWeb3React();\r\n  const { deactivate } = context\r\n\r\n  const [showLoginControls, setShowLoginControls] = React.useState(false);\r\n\r\n  function getErrorMessage(error: Error) {\r\n    if (error instanceof NoEthereumProviderError) {\r\n      return 'Web3 not enabled, install MetaMask on desktop or visit from a dApp browser on mobile'\r\n    } else if (error instanceof UnsupportedChainIdError) {\r\n      return \"Unsupported Network, please connect to Ropsten\"\r\n    } else if (\r\n      error instanceof UserRejectedRequestErrorInjected\r\n    ) {\r\n      return 'Please authorize this website to access the dApp'\r\n    } else {\r\n      console.error(error)\r\n      return 'An unknown error occurred. Check the console for more details'\r\n    }\r\n  }\r\n\r\n  const bellPressed = () => {\r\n    setShowLoginControls(!showLoginControls);\r\n  }\r\n\r\n  const disconnect = () => {\r\n    setShowLoginControls(false);\r\n    deactivate();\r\n  }\r\n\r\n  return (\r\n    <HeaderContainer\r\n      direction=\"row\"\r\n      padding=\"10px 15px\"\r\n    >\r\n      <ItemH\r\n        justify=\"flex-start\"\r\n        flex=\"0\"\r\n      >\r\n        {active && !error &&\r\n          <Profile />\r\n        }\r\n        {!active &&\r\n          <Logo src=\"epns.png\" />\r\n        }\r\n      </ItemH>\r\n\r\n      <ItemH\r\n        justify=\"flex-end\"\r\n      >\r\n        {active && !error &&\r\n          <Bell\r\n            badgeCount={badgeCount}\r\n            bellPressedCB={bellPressed}\r\n            width={32}\r\n            height={32}\r\n          />\r\n        }\r\n\r\n        {showLoginControls &&\r\n          <Item\r\n            position=\"absolute\"\r\n          >\r\n            <Button\r\n              bg=\"#000\"\r\n              size=\"12px\"\r\n              spacing=\"0.2em\"\r\n              textTransform=\"uppercase\"\r\n              weight=\"600\"\r\n              radius=\"20px\"\r\n              onClick={() => disconnect()}\r\n            >\r\n              Disconnect\r\n            </Button>\r\n          </Item>\r\n        }\r\n\r\n        <ItemH\r\n          justify=\"flex-end\"\r\n          flex=\"initial\"\r\n        >\r\n          {!!error &&\r\n            <PrimaryTheme>{getErrorMessage(error)}</PrimaryTheme>\r\n          }\r\n          {!active && !error &&\r\n            <ThirdTheme>Please connect to a Web3 Network</ThirdTheme>\r\n          }\r\n          <Connection phase={active ? 'active' : error ? 'error' : 'waiting'} />\r\n        </ItemH>\r\n      </ItemH>\r\n    </HeaderContainer>\r\n  );\r\n}\r\n\r\n// CSS Styles\r\nconst HeaderContainer = styled(Section)`\r\n  @media (max-width: 1440px) {\r\n    background: rgb(255,255,255);\r\n  }\r\n`\r\n\r\nconst Logo = styled.img`\r\n  height: 40px;\r\n`\r\n\r\nconst Notice = styled.span`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n`\r\n\r\nconst PrimaryTheme = styled(Notice)`\r\n  background: #e20880;\r\n`\r\n\r\nconst ThirdTheme = styled(Notice)`\r\n  background: #674c9f;\r\n`\r\n\r\nconst Connection = styled.span`\r\n  height: 10px;\r\n  width: 10px;\r\n  border-radius: 100%;\r\n  flex-shrink: 0;\r\n\r\n  ${props => props.phase === 'active' && css`\r\n    background: #77DD77;\r\n  `};\r\n\r\n  ${props => props.phase === 'waiting' && css`\r\n    background: #FFAE42;\r\n  `};\r\n\r\n  ${props => props.phase === 'error' && css`\r\n    background: #DC143C;\r\n  `};\r\n`\r\n\r\n// Export Default\r\nexport default Header;\r\n","import React from \"react\";\r\nimport ReactGA from 'react-ga';\r\n\r\nimport styled from 'styled-components';\r\nimport {Section, Content, Item, ItemH, Span, H2, H3, B, A} from 'components/SharedStyling';\r\n\r\nimport Loader from 'react-loader-spinner'\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nimport { AbstractConnector } from '@web3-react/abstract-connector'\r\nimport { Web3ReactProvider, useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\r\nimport {\r\n  NoEthereumProviderError,\r\n  UserRejectedRequestError as UserRejectedRequestErrorInjected\r\n} from '@web3-react/injected-connector'\r\nimport { Web3Provider } from 'ethers/providers'\r\n\r\nimport { useEagerConnect, useInactiveListener } from 'hooks'\r\nimport {\r\n  injected,\r\n  walletconnect,\r\n  portis,\r\n  trezor,\r\n  ledger\r\n} from 'connectors'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { ethers } from \"ethers\";\r\n\r\nimport Home from 'pages/Home';\r\nimport Header from 'segments/Header';\r\n\r\nimport * as dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\nconst web3Connectors = {\r\n  Injected: {obj: injected, logo: './svg/login/metamask.svg', title: 'MetaMask'},\r\n  WalletConnect: {obj: walletconnect, logo: './svg/login/walletconnect.svg', title: 'Wallet Connect'},\r\n  // Trezor: {obj: trezor, logo: './svg/login/trezor.svg', title: 'Trezor'},\r\n  Ledger: {obj: ledger, logo: './svg/login/ledger.svg', title: 'Ledger'},\r\n  Portis: {obj: portis, logo: './svg/login/portis.svg', title: 'Portis'},\r\n}\r\n\r\nfunction getErrorMessage(error: Error) {\r\n  if (error instanceof NoEthereumProviderError) {\r\n    return 'No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.'\r\n  } else if (error instanceof UnsupportedChainIdError) {\r\n    return \"You're connected to an unsupported network.\"\r\n  } else if (\r\n    error instanceof UserRejectedRequestErrorInjected\r\n  ) {\r\n    return 'Please authorize this website to access your Ethereum account.'\r\n  } else {\r\n    console.error(error)\r\n    return 'An unknown error occurred. Check the console for more details.'\r\n  }\r\n}\r\n\r\nfunction getLibrary(provider, connector) {\r\n  return new ethers.providers.Web3Provider(provider); // this will vary according to whether you use e.g. ethers or web3.js\r\n}\r\n\r\nexport default function() {\r\n  return (\r\n    <Web3ReactProvider getLibrary={getLibrary}>\r\n      <App />\r\n    </Web3ReactProvider>\r\n  )\r\n}\r\n\r\nfunction ChainId() {\r\n  const { chainId } = useWeb3React()\r\n\r\n  return (\r\n    <>\r\n      <span>Chain Id</span>\r\n      <span role=\"img\" aria-label=\"chain\">\r\n        \r\n      </span>\r\n      <span>{Number.isInteger(chainId) ? chainId : ''}</span>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nfunction App() {\r\n  const context = useWeb3React<Web3Provider>()\r\n  const { connector, library, chainId, account, activate, deactivate, active, error } = context\r\n\r\n  const [ badgeCount, setBadgeCount ] = React.useState(0);\r\n  const [ bellPressed, setBellPressed ] = React.useState(0);\r\n\r\n  // Initialize GA\r\n  ReactGA.initialize('UA-165415629-5');\r\n  ReactGA.pageview('/login');\r\n\r\n  // handle logic to recognize the connector currently being activated\r\n  const [activatingConnector, setActivatingConnector] = React.useState<AbstractConnector>()\r\n  React.useEffect(() => {\r\n    if (activatingConnector && activatingConnector === connector) {\r\n      setActivatingConnector(undefined)\r\n    }\r\n  }, [activatingConnector, connector])\r\n\r\n  // handle logic to eagerly connect to the injected ethereum provider, if it exists and has granted access already\r\n  const triedEager = useEagerConnect()\r\n\r\n  // handle logic to connect in reaction to certain events on the injected ethereum provider, if it exists\r\n  useInactiveListener(!triedEager || !!activatingConnector)\r\n\r\n  return (\r\n      <>\r\n        <HeaderContainer>\r\n          <Header\r\n            badgeCount={badgeCount}\r\n            bellPressedCB={() => {setBellPressed(bellPressed + 1)}}\r\n          />\r\n        </HeaderContainer>\r\n\r\n        <ParentContainer>\r\n        {(active) && !error && (\r\n          <HomeContainer>\r\n            <Home\r\n              setBadgeCount={setBadgeCount}\r\n              bellPressed={bellPressed}\r\n            />\r\n          </HomeContainer>\r\n\r\n        )}\r\n\r\n        {!active &&\r\n          <Item>\r\n            <ProviderLogo src=\"./epnshomelogo.png\" srcSet={\"./epnshomelogo@2x.png 2x, ./epnshomelogo@2x.png 3x\"} />\r\n            <Item\r\n              bg=\"#fafafa\"\r\n              border=\"1px solid #ddd\"\r\n              padding=\"15px\"\r\n              radius=\"12px\"\r\n            >\r\n              <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n                <Span bg=\"#e20880\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Connect</Span><Span weight=\"200\"> Your Wallet</Span>\r\n              </H2>\r\n\r\n              <ItemH\r\n                maxWidth=\"800px\"\r\n                align=\"stretch\"\r\n              >\r\n                {Object.keys(web3Connectors).map(name => {\r\n                  const currentConnector = web3Connectors[name].obj\r\n                  const activating = currentConnector === activatingConnector\r\n                  const connected = currentConnector === connector\r\n                  const disabled = !triedEager || !!activatingConnector || connected || !!error\r\n                  const image = web3Connectors[name].logo\r\n                  const title = web3Connectors[name].title\r\n\r\n                  return (\r\n                    <ProviderButton\r\n                      disabled={disabled}\r\n                      key={name}\r\n                      onClick={() => {\r\n                        setActivatingConnector(currentConnector)\r\n                        activate(currentConnector)\r\n                      }}\r\n                      border=\"#35c5f3\"\r\n                    >\r\n                      <ProviderImage src={image} />\r\n\r\n                      <Span\r\n                        spacing=\"0.1em\"\r\n                        textTransform=\"uppercase\"\r\n                        size=\"12px\"\r\n                        weight=\"600\"\r\n                        padding=\"10px\"\r\n                      >\r\n                        {title}\r\n                      </Span>\r\n                    </ProviderButton>\r\n                  )\r\n                })}\r\n              </ItemH>\r\n            </Item>\r\n\r\n            <Span margin=\"10px\" size=\"14px\">\r\n              By unlocking your wallet, <B>You agree</B> to our <A href=\"https://epns.io/tos\" target=\"_blank\">Terms of Service</A> and our <A href=\"https://epns.io/privacy\" target=\"_blank\">Privacy Policy</A>.\r\n            </Span>\r\n          </Item>\r\n        }\r\n        </ParentContainer>\r\n\r\n        <ToastContainer\r\n          position=\"bottom-right\"\r\n          autoClose={false}\r\n          newestOnTop\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n        />\r\n      </>\r\n  );\r\n}\r\n\r\n\r\n// CSS STYLES\r\nconst HeaderContainer = styled.header`\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 999;\r\n`\r\n\r\nconst ParentContainer = styled.div`\r\n  flex-wrap: wrap;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin: 80px 20px 50px 20px;\r\n  flex: 1;\r\n`\r\n\r\nconst HomeContainer = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  align-self: center;\r\n  width: 100%;\r\n  max-width: 1100px;\r\n`\r\n\r\nconst ProviderLogo = styled.img`\r\n  width: 15vw;\r\n  align-self: center;\r\n  display: flex;\r\n  margin: 10px 20px 20px 20px;\r\n  min-width: 200px;\r\n`\r\n\r\nconst ProviderButton = styled.button`\r\n  flex: 1 1 0;\r\n  min-width: 280px;\r\n  background: #fff;\r\n  outline: 0;\r\n\r\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 15px;\r\n  border: 1px solid rgb(225,225,225);\r\n\r\n  margin: 20px;\r\n  overflow: hidden;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 10px;\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n    border: 1px solid ${props => props.border}\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n    border: 1px solid ${props => props.border}\r\n  }\r\n`\r\n\r\nconst ProviderImage = styled.img`\r\n  width: 32px;\r\n  max-height: 32px;\r\n  padding: 10px;\r\n`\r\n\r\nconst ProviderLabel = styled.span`\r\n  font-size: 12px;\r\n  margin: 5px;\r\n`\r\n\r\nconst StyledContainer = styled(ToastContainer).attrs({\r\n  // custom props\r\n})`\r\n  .Toastify__toast-container {}\r\n  .Toastify__toast {}\r\n  .Toastify__toast--error {}\r\n  .Toastify__toast--warning {}\r\n  .Toastify__toast--success {}\r\n  .Toastify__toast-body {\r\n    font-size: 12px;\r\n  }\r\n  .Toastify__progress-bar {}\r\n`;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\"No internet connection found. App is running in offline mode.\");\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {ApolloClient, ApolloProvider, InMemoryCache} from \"@apollo/client\";\r\n\r\nimport './index.css';\r\n\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport { Web3ReactProvider } from '@web3-react/core'\r\nimport { ethers } from \"ethers\";\r\n\r\nimport * as dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\n// You should replace this uri with your own and put it into a .env file\r\nconst client = new ApolloClient({\r\n  uri: \"https://api.thegraph.com/subgraphs/name/epnsproject/epnsstaging\",\r\n  cache: new InMemoryCache()\r\n});\r\n\r\nReactDOM.render(\r\n\r\n    <ApolloProvider client={client}>\r\n      <App />\r\n    </ApolloProvider>,\r\n    document.getElementById(\"root\"),\r\n\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// This address points to a dummy ERC20 contract deployed on Ethereum Mainnet,\r\n// Goerli, Kovan, Rinkeby and Ropsten. Replace it with your smart contracts.\r\nconst addresses = {\r\n  ceaErc20: \"0xc1C0472c0C80bCcDC7F5D01A376Bd97a734B8815\",\r\n  epnscore: \"0xc882dA9660d29c084345083922F8a9292E58787D\",\r\n  dai: \"0xf80A32A835F79D7787E8a8ee5721D0fEaFd78108\",\r\n  aDai: \"0xcB1Fe6F440c49E9290c3eb7f158534c2dC374201\",\r\n  staking: \"0xd9218bb2a7Ff0131555A9b6F179fF5103a27a286\",\r\n  yieldFarmPUSH: \"0xFe0bcF750d4042480943CC8bA818CA3482DDf691\",\r\n  yieldFarmLP: \"0xE65fE4a8BCEB8A71D6A8D06dF2D91a9637081c61\",\r\n  epnsToken: \"0x38c4A4C7fa26eA48E34C45a9F6bDb5DA3f599c55\",\r\n  epnsLPToken: \"0x69E12FfD1170d851c096FfEC6A8eF27D26D96c0f\",\r\n  rockstar: \"0xCD1B6C8DDB9A735AA5961Ab4aa5B513fba23A3a3\", //ropsten address\r\n  batchMintNFT: \"0x9A20272669BBAa6254358ba4BB0520fFc813691C\", //ropsten address\r\n  NFTRewards: \"0x1f4CA0b2B0541b942A440A3f6673883eEacb2cb3\", //ropsten address\r\n  distributor: \"0x4Cd9Fe2E0acb9BC28fA51106b99825bd7a02309e\", //ropsten address\r\n};\r\n\r\nexport default addresses;\r\n","import erc20Abi from \"./abis/erc20\";\r\nimport ownableAbi from \"./abis/ownable\";\r\nimport epnscoreAbi from \"./abis/epnscore\";\r\nimport daiAbi from \"./abis/dai\";\r\nimport epnsTokenAbi from \"./abis/EPNS.json\";\r\nimport stakingAbi from \"./abis/Staking.json\";\r\nimport yieldFarmingAbi from \"./abis/YieldFarm.json\";\r\nimport rockstarAbi from \"./abis/Rockstar.json\";\r\nimport ec721Abi from \"./abis/ERC721.json\";\r\nimport NFTRewards from \"./abis/NFTRewards.json\";\r\nimport MerkleDistributorAbi from \"./abis/MerkleDistributor.json\";\r\n\r\nexport const abis = {\r\n  erc20: erc20Abi,\r\n  ownable: ownableAbi,\r\n  epnscore: epnscoreAbi,\r\n  dai: daiAbi,\r\n  epnsToken: epnsTokenAbi,\r\n  staking: stakingAbi,\r\n  yieldFarming: yieldFarmingAbi,\r\n  rockstar: rockstarAbi,\r\n  erc721: ec721Abi,\r\n  NFTRewards: NFTRewards,\r\n  distributor: MerkleDistributorAbi,\r\n};\r\n\r\nexport { default as addresses } from \"./addresses\";\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from \"styled-components\";\r\nimport {\r\n  Section,\r\n  Content,\r\n  Item,\r\n  ItemH,\r\n  ItemBreak,\r\n  H1,\r\n  H2,\r\n  H3,\r\n  Image,\r\n  P,\r\n  Span,\r\n  Anchor,\r\n  Button,\r\n  Showoff,\r\n  FormSubmision,\r\n  Input,\r\n  TextField,\r\n} from \"components/SharedStyling\";\r\n\r\nimport { FiLink } from \"react-icons/fi\";\r\n\r\nimport \"react-dropzone-uploader/dist/styles.css\";\r\nimport Dropzone from \"react-dropzone-uploader\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\nimport { bigNumberify, parseUnits } from \"ethers/utils\";\r\n\r\nimport { useWeb3React, UnsupportedChainIdError } from \"@web3-react/core\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nconst ethers = require(\"ethers\");\r\n\r\nconst ipfs = require(\"ipfs-api\")();\r\n\r\nconst minStakeFees = 50;\r\n\r\n// Create Header\r\nfunction CreateChannel() {\r\n  const { active, error, account, library, chainId } = useWeb3React();\r\n\r\n  const [processing, setProcessing] = React.useState(0);\r\n  const [processingInfo, setProcessingInfo] = React.useState(\"\");\r\n\r\n  const [uploadDone, setUploadDone] = React.useState(false);\r\n  const [stakeFeesChoosen, setStakeFeesChoosen] = React.useState(false);\r\n  const [channelInfoDone, setChannelInfoDone] = React.useState(false);\r\n\r\n  const [channelName, setChannelName] = React.useState(\"\");\r\n  const [channelAlias, setChannelAlias] = React.useState(\"\");\r\n  const [channelInfo, setChannelInfo] = React.useState(\"\");\r\n  const [channelURL, setChannelURL] = React.useState(\"\");\r\n  const [channelFile, setChannelFile] = React.useState(undefined);\r\n  const [channelStakeFees, setChannelStakeFees] = React.useState(minStakeFees);\r\n\r\n  const [stepFlow, setStepFlow] = React.useState(1);\r\n\r\n  React.useEffect(() => {});\r\n\r\n  // called every time a file's `status` changes\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    console.log(status, meta, file);\r\n  };\r\n\r\n  const onDropHandler = (files) => {\r\n    //   var file = files[0]\r\n    //   const reader = new FileReader();\r\n    //   reader.onload = (event) => {\r\n    //     console.log(event.target.result);\r\n    //   };\r\n    //   reader.readAsDataURL(file);\r\n    // setChannelFile(file);\r\n    // console.log(\"Drop Handler\");\r\n    // console.log(file);\r\n  };\r\n\r\n  // receives array of files that are done uploading when submit button is clicked\r\n  const handleLogoSubmit = (files, allFiles) => {\r\n    // console.log(files.map(f => f.meta))\r\n    allFiles.forEach((f) => {\r\n      var file = f.file;\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      // console.log(f.file);\r\n\r\n      reader.onloadend = function(e) {\r\n        // console.log(reader.result);\r\n        const response = handleLogoSizeLimitation(reader.result);\r\n        if (response.success) {\r\n          setStepFlow(2);\r\n          setProcessing(0);\r\n          setUploadDone(true);\r\n          setChannelFile(reader.result);\r\n        } else {\r\n          setProcessing(3);\r\n          setProcessingInfo(response.info);\r\n        }\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleLogoSizeLimitation = (base64) => {\r\n    // Setup Error on higher size of 128px\r\n    var sizeOf = require(\"image-size\");\r\n    var base64Data = base64.split(\";base64,\").pop();\r\n    var img = Buffer.from(base64Data, \"base64\");\r\n    var dimensions = sizeOf(img);\r\n\r\n    // Only proceed if image is equal to or less than 128\r\n    if (dimensions.width > 128 || dimensions.height > 128) {\r\n      console.log(\"Image size check failed... returning\");\r\n      return {\r\n        success: 0,\r\n        info: \"Image size check failed, Image should be 128X128PX\",\r\n      };\r\n    }\r\n\r\n    // only proceed if png or jpg\r\n    // This is brilliant: https://stackoverflow.com/questions/27886677/javascript-get-extension-from-base64-image\r\n    // char(0) => '/' : jpg\r\n    // char(0) => 'i' : png\r\n    let fileext;\r\n    console.log(base64Data.charAt(0));\r\n    if (base64Data.charAt(0) == \"/\") {\r\n      return {\r\n        success: 1,\r\n        info: \"Image checks passed\",\r\n      };\r\n    } else if (base64Data.charAt(0) == \"i\") {\r\n      return {\r\n        success: 1,\r\n        info: \"Image checks passed\",\r\n      };\r\n    } else {\r\n      return {\r\n        success: 0,\r\n        info: \"Image extension should be jpg or png\",\r\n      };\r\n    }\r\n  };\r\n\r\n  const handleCreateChannel = async (e) => {\r\n    // Check everything in order\r\n    // skip this for now\r\n    e.preventDefault();\r\n\r\n    if (\r\n      isEmpty(channelName) ||\r\n      isEmpty(channelInfo) ||\r\n      isEmpty(channelURL) ||\r\n      isEmpty(channelFile) ||\r\n      isEmpty(channelAlias)\r\n    ) {\r\n      setProcessing(3);\r\n      setProcessingInfo(\"Channel Fields are Empty! Please retry!\");\r\n\r\n      return false;\r\n    }\r\n\r\n    // Check complete, start logic\r\n    setChannelInfoDone(true);\r\n    setProcessing(1);\r\n\r\n    var alias = channelAlias.split(\":\");\r\n    var blockchain = alias[0];\r\n    var chain_id = alias[1];\r\n    var address = alias[2];\r\n\r\n    const input = JSON.stringify({\r\n      name: channelName,\r\n      info: channelInfo,\r\n      url: channelURL,\r\n      icon: channelFile,\r\n      blockchain: blockchain,\r\n      chain_id: chain_id,\r\n      address: address,\r\n    });\r\n\r\n    const ipfs = require(\"nano-ipfs-store\").at(\"https://ipfs.infura.io:5001\");\r\n\r\n    setProcessingInfo(\"Uploading Payload...\");\r\n    const storagePointer = await ipfs.add(input);\r\n    console.log(\"IPFS storagePointer:\", storagePointer);\r\n    setProcessingInfo(\"Payload Uploaded, Approval to transfer DAI...\");\r\n    //console.log(await ipfs.cat(storagePointer));\r\n\r\n    // Send Transaction\r\n    // First Approve DAI\r\n    var signer = library.getSigner(account);\r\n\r\n    let daiContract = new ethers.Contract(addresses.dai, abis.erc20, signer);\r\n\r\n    // Pick between 50 DAI AND 25K DAI\r\n    const fees = parseUnits(channelStakeFees.toString(), 18);\r\n\r\n    var sendTransactionPromise = daiContract.approve(addresses.epnscore, fees);\r\n    const tx = await sendTransactionPromise;\r\n\r\n    console.log(tx);\r\n    console.log(\"waiting for tx to finish\");\r\n    setProcessingInfo(\"Waiting for Approval TX to finish...\");\r\n\r\n    await library.waitForTransaction(tx.hash);\r\n\r\n    let contract = new ethers.Contract(\r\n      addresses.epnscore,\r\n      abis.epnscore,\r\n      signer\r\n    );\r\n\r\n    const channelType = 2; // Open Channel\r\n    const identity = \"1+\" + storagePointer; // IPFS Storage Type and HASH\r\n    const identityBytes = ethers.utils.toUtf8Bytes(identity);\r\n\r\n    var anotherSendTxPromise = contract.createChannelWithFees(\r\n      channelType,\r\n      identityBytes\r\n    );\r\n\r\n    setProcessingInfo(\"Creating Channel TX in progress\");\r\n    anotherSendTxPromise\r\n      .then(async function(tx) {\r\n        console.log(tx);\r\n        console.log(\"Check: \" + account);\r\n        await library.waitForTransaction(tx.hash);\r\n        setProcessingInfo(\"Channel Created\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error --> %o\", err);\r\n        setProcessing(3);\r\n        setProcessingInfo(\r\n          \"!!!PRODUCTION ENV!!! Contact support@epns.io to whitelist your wallet\"\r\n        );\r\n      });\r\n  };\r\n\r\n  const isEmpty = (field) => {\r\n    if (field.trim().length == 0) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  //mind Dai\r\n  const mintDai = async () => {\r\n    var signer = library.getSigner(account);\r\n    let daiContract = new ethers.Contract(addresses.dai, abis.dai, signer);\r\n\r\n    let daiAmount = 1000;\r\n    const amount = parseUnits(daiAmount.toString(), 18);\r\n    var mintTransactionPromise = daiContract.mint(amount);\r\n    const tx = await mintTransactionPromise;\r\n    console.log(tx);\r\n    await library.waitForTransaction(tx.hash);\r\n    setProcessingInfo(\"1000 Dai minted successfully!\");\r\n    console.log(\"Transaction Completed\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Content padding=\"10px 20px 20px\">\r\n          <Item align=\"flex-start\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">\r\n                Create\r\n              </Span>\r\n              <Span weight=\"200\"> Your Channel!</Span>\r\n            </H2>\r\n            <H3>\r\n              <b>Ethereum Push Notification Service</b> (EPNS) makes it\r\n              extremely easy to open and maintain a genuine channel of\r\n              communication with your users.\r\n            </H3>\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n\r\n      <Section>\r\n        <Content padding=\"0px 20px 20px\">\r\n          <ItemH justify=\"space-between\">\r\n            <Step\r\n              bg=\"#fff\"\r\n              activeBG=\"#e20880\"\r\n              type={stepFlow >= 1 ? \"active\" : \"inactive\"}\r\n            />\r\n            <Step\r\n              bg=\"#fff\"\r\n              activeBG=\"#e20880\"\r\n              type={stepFlow >= 2 ? \"active\" : \"inactive\"}\r\n            />\r\n            <Step\r\n              bg=\"#fff\"\r\n              activeBG=\"#e20880\"\r\n              type={stepFlow >= 3 ? \"active\" : \"inactive\"}\r\n            />\r\n            <Line />\r\n          </ItemH>\r\n        </Content>\r\n      </Section>\r\n\r\n      {/* Image Upload Section */}\r\n      {!uploadDone && (\r\n        <Section>\r\n          <Content padding=\"50px 20px 20px\">\r\n            <Item align=\"flex-start\">\r\n              <H3 color=\"#e20880\">\r\n                Upload Channel Logo to start the process. Make sure image is\r\n                128x128px.\r\n              </H3>\r\n            </Item>\r\n\r\n            <Item margin=\"-10px 0px 20px 0px\">\r\n              <Dropzone\r\n                onChangeStatus={handleChangeStatus}\r\n                onSubmit={handleLogoSubmit}\r\n                onDrop={onDropHandler}\r\n                maxFiles={1}\r\n                multiple={false}\r\n                accept=\"image/jpeg,image/png\"\r\n              />\r\n            </Item>\r\n            <Item align=\"flex-end\">\r\n              <Minter\r\n                onClick={() => {\r\n                  mintDai();\r\n                }}\r\n              >\r\n                <Pool>\r\n                  <br></br>\r\n                  <PoolShare>Get Free DAI for Channel</PoolShare>\r\n                </Pool>\r\n              </Minter>\r\n            </Item>\r\n          </Content>\r\n        </Section>\r\n      )}\r\n\r\n      {/* Stake Fees Section */}\r\n      {uploadDone && !stakeFeesChoosen && (\r\n        <Section>\r\n          <Content padding=\"50px 0px 0px 0px\">\r\n            <Item align=\"flex-start\" margin=\"0px 20px\">\r\n              <H3 color=\"#e20880\">Set your staking fees in DAI</H3>\r\n            </Item>\r\n\r\n            <Item\r\n              margin=\"-10px 20px 20px 20px\"\r\n              padding=\"20px 20px 10px 20px\"\r\n              bg=\"#f1f1f1\"\r\n            >\r\n              <Slider\r\n                defaultValue={minStakeFees}\r\n                onChangeCommitted={(event, value) => setChannelStakeFees(value)}\r\n                aria-labelledby=\"discrete-slider\"\r\n                valueLabelDisplay=\"auto\"\r\n                step={minStakeFees}\r\n                marks\r\n                min={minStakeFees}\r\n                max={25000}\r\n              />\r\n              <Span\r\n                weight=\"400\"\r\n                size=\"1.0em\"\r\n                textTransform=\"uppercase\"\r\n                spacing=\"0.2em\"\r\n              >\r\n                Amount Staked: {channelStakeFees} DAI\r\n              </Span>\r\n            </Item>\r\n\r\n            <Item self=\"stretch\" align=\"stretch\" margin=\"20px 0px 0px 0px\">\r\n              <Button\r\n                bg=\"#e20880\"\r\n                color=\"#fff\"\r\n                flex=\"1\"\r\n                radius=\"0px\"\r\n                padding=\"20px 10px\"\r\n                onClick={() => {\r\n                  setStakeFeesChoosen(true);\r\n                  setStepFlow(3);\r\n                }}\r\n              >\r\n                <Span\r\n                  color=\"#fff\"\r\n                  weight=\"400\"\r\n                  textTransform=\"uppercase\"\r\n                  spacing=\"0.1em\"\r\n                >\r\n                  Continue\r\n                </Span>\r\n              </Button>\r\n            </Item>\r\n          </Content>\r\n        </Section>\r\n      )}\r\n\r\n      {/* Channel Entry */}\r\n      {uploadDone && stakeFeesChoosen && !channelInfoDone && (\r\n        <Section>\r\n          <Content padding=\"50px 0px 0px 0px\">\r\n            <Item align=\"flex-start\" margin=\"0px 20px\">\r\n              <H3 color=\"#e20880\">Setup your Channel Info</H3>\r\n            </Item>\r\n\r\n            <FormSubmision\r\n              flex=\"1\"\r\n              direction=\"column\"\r\n              margin=\"0px\"\r\n              justify=\"center\"\r\n              size=\"1.1rem\"\r\n              onSubmit={handleCreateChannel}\r\n            >\r\n              <Item\r\n                margin=\"-10px 20px 15px 20px\"\r\n                flex=\"1\"\r\n                self=\"stretch\"\r\n                align=\"stretch\"\r\n              >\r\n                <Input\r\n                  required\r\n                  placeholder=\"Your Channel Name\"\r\n                  maxlength=\"40\"\r\n                  padding=\"12px\"\r\n                  border=\"1px solid #000\"\r\n                  weight=\"400\"\r\n                  size=\"1.2em\"\r\n                  bg=\"#fff\"\r\n                  value={channelName}\r\n                  onChange={(e) => {\r\n                    setChannelName(e.target.value);\r\n                  }}\r\n                />\r\n                {channelName.trim().length == 0 && (\r\n                  <Span\r\n                    padding=\"4px 10px\"\r\n                    right=\"0px\"\r\n                    top=\"0px\"\r\n                    pos=\"absolute\"\r\n                    color=\"#fff\"\r\n                    bg=\"#000\"\r\n                    size=\"0.7rem\"\r\n                    z=\"1\"\r\n                  >\r\n                    Name of Channel\r\n                  </Span>\r\n                )}\r\n              </Item>\r\n\r\n              <Item\r\n                margin=\"15px 20px 15px 20px\"\r\n                flex=\"1\"\r\n                self=\"stretch\"\r\n                align=\"stretch\"\r\n              >\r\n                <Input\r\n                  required\r\n                  placeholder=\"Your Channel's Alias\"\r\n                  maxlength=\"40\"\r\n                  padding=\"12px\"\r\n                  border=\"1px solid #000\"\r\n                  weight=\"400\"\r\n                  size=\"1rem\"\r\n                  bg=\"#fff\"\r\n                  value={channelAlias}\r\n                  onChange={(e) => {\r\n                    setChannelAlias(e.target.value);\r\n                  }}\r\n                />\r\n              </Item>\r\n              <Item\r\n                margin=\"15px 20px 15px 20px\"\r\n                flex=\"1\"\r\n                self=\"stretch\"\r\n                align=\"stretch\"\r\n              >\r\n                <TextField\r\n                  required\r\n                  placeholder=\"Your Channel's Short Description (200 Characters)\"\r\n                  rows=\"4\"\r\n                  maxlength=\"200\"\r\n                  radius=\"4px\"\r\n                  padding=\"12px\"\r\n                  weight=\"400\"\r\n                  border=\"1px solid #000\"\r\n                  bg=\"#fff\"\r\n                  value={channelInfo}\r\n                  onChange={(e) => {\r\n                    setChannelInfo(e.target.value);\r\n                  }}\r\n                  autocomplete=\"off\"\r\n                />\r\n              </Item>\r\n\r\n              <ItemH\r\n                margin=\"15px 20px 15px 20px\"\r\n                flex=\"1\"\r\n                self=\"stretch\"\r\n                align=\"center\"\r\n              >\r\n                <Item flex=\"0\" margin=\"0px 5px 0px 0px\">\r\n                  <FiLink size={24} color=\"#000\" />\r\n                </Item>\r\n                <Item flex=\"1\" margin=\"0px 0px 0px 5px\" align=\"stretch\">\r\n                  <Input\r\n                    required\r\n                    placeholder=\"Call to Action Link\"\r\n                    padding=\"12px\"\r\n                    border=\"1px solid #000\"\r\n                    radius=\"4px\"\r\n                    weight=\"400\"\r\n                    bg=\"#f1f1f1\"\r\n                    value={channelURL}\r\n                    onChange={(e) => {\r\n                      setChannelURL(e.target.value);\r\n                    }}\r\n                  />\r\n                  {channelURL.trim().length == 0 && (\r\n                    <Span\r\n                      padding=\"4px 10px\"\r\n                      right=\"0px\"\r\n                      top=\"0px\"\r\n                      pos=\"absolute\"\r\n                      color=\"#fff\"\r\n                      bg=\"#000\"\r\n                      size=\"0.7rem\"\r\n                      z=\"1\"\r\n                    >\r\n                      Channel's Website URL\r\n                    </Span>\r\n                  )}\r\n                </Item>\r\n              </ItemH>\r\n\r\n              <Item\r\n                margin=\"15px 0px 0px 0px\"\r\n                flex=\"1\"\r\n                self=\"stretch\"\r\n                align=\"stretch\"\r\n              >\r\n                <Button\r\n                  bg=\"#e20880\"\r\n                  color=\"#fff\"\r\n                  flex=\"1\"\r\n                  radius=\"0px\"\r\n                  padding=\"20px 10px\"\r\n                  disabled={processing == 1 ? true : false}\r\n                >\r\n                  {processing == 1 && (\r\n                    <Loader type=\"Oval\" color=\"#fff\" height={24} width={24} />\r\n                  )}\r\n                  {processing != 1 && (\r\n                    <Input\r\n                      cursor=\"hand\"\r\n                      textTransform=\"uppercase\"\r\n                      color=\"#fff\"\r\n                      weight=\"400\"\r\n                      size=\"0.8em\"\r\n                      spacing=\"0.2em\"\r\n                      type=\"submit\"\r\n                      value=\"Setup Channel\"\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </Item>\r\n            </FormSubmision>\r\n          </Content>\r\n        </Section>\r\n      )}\r\n\r\n      {/* Channel Setup Progress */}\r\n      {(processing == 1 || processing == 3) && (\r\n        <Section>\r\n          <Content padding=\"0px 0px 0px 0px\">\r\n            {processing == 1 && (\r\n              <Item margin=\"20px 0px 10px 0px\">\r\n                <Loader type=\"Oval\" color=\"#000\" height={24} width={24} />\r\n              </Item>\r\n            )}\r\n\r\n            <Item\r\n              color=\"#fff\"\r\n              bg={processing == 1 ? \"#e1087f\" : \"#000\"}\r\n              padding=\"10px 15px\"\r\n              margin=\"15px 0px\"\r\n            >\r\n              <Span\r\n                color=\"#fff\"\r\n                textTransform=\"uppercase\"\r\n                spacing=\"0.1em\"\r\n                weight=\"400\"\r\n                size=\"1em\"\r\n              >\r\n                {processingInfo}\r\n              </Span>\r\n            </Item>\r\n          </Content>\r\n        </Section>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Step = styled.div`\r\n  height: 12px;\r\n  width: 12px;\r\n  background: ${(props) => props.bg || \"#fff\"};\r\n  border: 4px solid ${(props) => props.activeBG || \"#000\"};\r\n  border-radius: 100%;\r\n\r\n  ${({ type }) =>\r\n    type == \"active\" &&\r\n    css`\r\n      background: ${(props) => props.activeBG || \"#ddd\"};\r\n      border: 4px solid #00000022;\r\n    `};\r\n`;\r\n\r\nconst Line = styled.div`\r\n  position: absolute;\r\n  height: 5px;\r\n  background: #f1f1f1;\r\n  right: 0;\r\n  left: 0;\r\n  margin: 0px 10px;\r\n  z-index: -1;\r\n`;\r\n\r\nconst Channel = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n`;\r\n\r\nconst Notice = styled.div`\r\n  margin-top: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  color: #674c9f;\r\n  font-size: 30px;\r\n  font-weight: 300;\r\n  margin-top: 0px;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst Info = styled.label`\r\n  padding-bottom: 20px;\r\n  font-size: 14px;\r\n  color: #000;\r\n`;\r\n\r\nconst Info2 = styled(Info)``;\r\nconst Name = styled(Input)`\r\n  border-bottom: 1px solid #e20880;\r\n  font-size: 24px;\r\n`;\r\n\r\nconst ShortInfo = styled.textarea`\r\n  outline: 0;\r\n  border: 0;\r\n  border-bottom: 1px solid #35c5f3;\r\n  margin: 10px;\r\n  font-size: 18px;\r\n  min-height: 80px;\r\n  color: #111;\r\n`;\r\n\r\nconst Url = styled(Input)`\r\n  border-bottom: 1px solid #674c9f;\r\n  font-size: 1=8px;\r\n`;\r\n\r\nconst Text = styled.span``;\r\n\r\nconst Continue = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #fff;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  background: ${(props) => props.theme || \"#674c9f\"};\r\n  margin: 30px 0px 0px 0px;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n`;\r\nconst Minter = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  font-size: 13px;\r\n`;\r\n\r\nconst ChannelMetaBox = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  padding: 10px 20px;\r\n  border-radius: 10px;\r\n  font-size: 15px;\r\n  // font-size: 11px;\r\n`;\r\nconst Pool = styled.div`\r\n  margin: 0px 10px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst PoolShare = styled(ChannelMetaBox)`\r\n  background: #e20880;\r\n  // background: #674c9f;\r\n`;\r\n\r\n// Export Default\r\nexport default CreateChannel;\r\n","(function() {\r\n\t// The random number is a js implementation of the Xorshift PRNG\r\n\tvar randseed = new Array(4); // Xorshift: [x, y, z, w] 32 bit values\r\n\r\n\tfunction seedrand(seed) {\r\n\t\tfor (var i = 0; i < randseed.length; i++) {\r\n\t\t\trandseed[i] = 0;\r\n\t\t}\r\n\t\tfor (var i = 0; i < seed.length; i++) {\r\n\t\t\trandseed[i%4] = ((randseed[i%4] << 5) - randseed[i%4]) + seed.charCodeAt(i);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction rand() {\r\n\t\t// based on Java's String.hashCode(), expanded to 4 32bit values\r\n\t\tvar t = randseed[0] ^ (randseed[0] << 11);\r\n\r\n\t\trandseed[0] = randseed[1];\r\n\t\trandseed[1] = randseed[2];\r\n\t\trandseed[2] = randseed[3];\r\n\t\trandseed[3] = (randseed[3] ^ (randseed[3] >> 19) ^ t ^ (t >> 8));\r\n\r\n\t\treturn (randseed[3]>>>0) / ((1 << 31)>>>0);\r\n\t}\r\n\r\n\tfunction createColor() {\r\n\t\t//saturation is the whole color spectrum\r\n\t\tvar h = Math.floor(rand() * 360);\r\n\t\t//saturation goes from 40 to 100, it avoids greyish colors\r\n\t\tvar s = ((rand() * 60) + 40) + '%';\r\n\t\t//lightness can be anything from 0 to 100, but probabilities are a bell curve around 50%\r\n\t\tvar l = ((rand()+rand()+rand()+rand()) * 25) + '%';\r\n\r\n\t\tvar color = 'hsl(' + h + ',' + s + ',' + l + ')';\r\n\t\treturn color;\r\n\t}\r\n\r\n\tfunction createImageData(size) {\r\n\t\tvar width = size; // Only support square icons for now\r\n\t\tvar height = size;\r\n\r\n\t\tvar dataWidth = Math.ceil(width / 2);\r\n\t\tvar mirrorWidth = width - dataWidth;\r\n\r\n\t\tvar data = [];\r\n\t\tfor(var y = 0; y < height; y++) {\r\n\t\t\tvar row = [];\r\n\t\t\tfor(var x = 0; x < dataWidth; x++) {\r\n\t\t\t\t// this makes foreground and background color to have a 43% (1/2.3) probability\r\n\t\t\t\t// spot color has 13% chance\r\n\t\t\t\trow[x] = Math.floor(rand()*2.3);\r\n\t\t\t}\r\n\t\t\tvar r = row.slice(0, mirrorWidth);\r\n\t\t\tr.reverse();\r\n\t\t\trow = row.concat(r);\r\n\r\n\t\t\tfor(var i = 0; i < row.length; i++) {\r\n\t\t\t\tdata.push(row[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tfunction buildOpts(opts) {\r\n\t\tvar newOpts = {};\r\n\r\n\t\tnewOpts.seed = opts.seed || Math.floor((Math.random()*Math.pow(10,16))).toString(16);\r\n\r\n\t\tseedrand(newOpts.seed);\r\n\r\n\t\tnewOpts.size = opts.size || 8;\r\n\t\tnewOpts.scale = opts.scale || 4;\r\n\t\tnewOpts.color = opts.color || createColor();\r\n\t\tnewOpts.bgcolor = opts.bgcolor || createColor();\r\n\t\tnewOpts.spotcolor = opts.spotcolor || createColor();\r\n\r\n\t\treturn newOpts;\r\n\t}\r\n\r\n\tfunction renderIcon(opts, canvas) {\r\n\t\topts = buildOpts(opts || {});\r\n\t\tvar imageData = createImageData(opts.size);\r\n\t\tvar width = Math.sqrt(imageData.length);\r\n\r\n\t\tcanvas.width = canvas.height = opts.size * opts.scale;\r\n\r\n\t\tvar cc = canvas.getContext('2d');\r\n\t\tcc.fillStyle = opts.bgcolor;\r\n\t\tcc.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\tcc.fillStyle = opts.color;\r\n\r\n\t\tfor(var i = 0; i < imageData.length; i++) {\r\n\r\n\t\t\t// if data is 0, leave the background\r\n\t\t\tif(imageData[i]) {\r\n\t\t\t\tvar row = Math.floor(i / width);\r\n\t\t\t\tvar col = i % width;\r\n\r\n\t\t\t\t// if data is 2, choose spot color, if 1 choose foreground\r\n\t\t\t\tcc.fillStyle = (imageData[i] == 1) ? opts.color : opts.spotcolor;\r\n\r\n\t\t\t\tcc.fillRect(col * opts.scale, row * opts.scale, opts.scale, opts.scale);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn canvas;\r\n\t}\r\n\r\n\tfunction createIcon(opts) {\r\n\t\tvar canvas = document.createElement('canvas');\r\n\r\n\t\trenderIcon(opts, canvas);\r\n\r\n\t\treturn canvas;\r\n\t}\r\n\r\n\tvar api = {\r\n\t\tcreate: createIcon,\r\n\t\trender: renderIcon\r\n\t};\r\n\r\n\tif (typeof module !== \"undefined\") {\r\n\t\tmodule.exports = api;\r\n\t}\r\n\tif (typeof window !== \"undefined\") {\r\n\t\t window.blockies = api;\r\n\t}\r\n\r\n})();\r\n","import styled, { css } from 'styled-components';\r\n\r\nexport const Section = styled.section`\r\n  display: flex;\r\n  align-self: stretch;\r\n  justify-content: center;\r\n  align-items: ${props => props.align || 'initial'};\r\n  flex-direction: ${props => props.direction || 'column'};\r\n  background: ${props => props.theme || 'transparent'};\r\n  background: ${props => props.gradient || 'undefined'};\r\n  margin: ${props => props.margin || '0px'};\r\n  padding: ${props => props.padding || '0px'};\r\n  overflow: ${props => props.overflow || 'initial'};\r\n  flex: 1;\r\n  position: relative;\r\n`\r\n\r\nexport const SectionFS = styled(Section)`\r\n  min-height: 100vh;\r\n`\r\n\r\nexport const SectionFSHero = styled(Section)`\r\n  min-height: 100vh;\r\n  background: rgb(31,23,47);\r\n  background: linear-gradient(283deg, rgba(31,23,47,1) 0%, rgba(62,9,40,1) 45%, rgba(17,58,72,1) 100%);\r\n`\r\n\r\nexport const SectionHero = styled(Section)`\r\n  background: rgb(31,23,47);\r\n  background: linear-gradient(283deg, rgba(31,23,47,1) 0%, rgba(62,9,40,1) 45%, rgba(17,58,72,1) 100%);\r\n`\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: ${props => props.padding || \"40px 0px\"};\r\n  background: ${props => props.theme || 'transparent'};\r\n  background: ${props => props.gradient || 'undefined'};\r\n  position: relative;\r\n`\r\n\r\nexport const ItemBreak = styled.div`\r\n  flex-basis: 100%;\r\n`\r\n\r\nexport const Item = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: ${props => props.wrap || 'wrap'};\r\n  position: ${props => props.position || 'relative'};\r\n  justify-content: center;\r\n  background: ${props => props.bg || 'transparent'};\r\n  flex: ${props => props.flex || '1'};\r\n  flex-direction: ${props => props.direction || 'column'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  margin: ${props => props.margin || '0px'};\r\n  min-width: ${props => props.minWidth || 'auto'};\r\n  max-width: ${props => props.maxWidth || 'initial'};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-align: ${props => props.textAlign || \"inherit\"};\r\n  filter: ${props => props.filter || \"none\"};\r\n\r\n  width: ${props => props.width || \"auto\" };\r\n  height: ${props => props.height || \"auto\" };\r\n\r\n  border: ${props => props.border || \"none\"};\r\n\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  overflow: ${props => props.overflow || \"initial\"};\r\n\r\n  &:hover & {\r\n    filter: ${props => (props.filterHover ? props.filterHover : (props.hover ? props.hover : \"none\")) || \"none\"};\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    align-items: ${props => (props.tabletAlign ? props.tabletAlign : (props.align ? props.align : \"center\")) || \"center\"};\r\n    text-align: ${props => (props.tabletTextAlign ? props.tabletTextAlign : (props.textAlign ? props.textAlign : \"inherit\")) || \"inherit\"};\r\n  }\r\n\r\n  ${ItemBreak} {\r\n    width: 0;\r\n  }\r\n`\r\n\r\nexport const ItemH = styled(Item)`\r\n  flex-direction: row;\r\n  flex: ${props => props.flex || '1'};\r\n\r\n  ${ItemBreak} {\r\n    width: auto;\r\n    height: 0;\r\n  }\r\n`\r\n\r\nexport const WaveOuter = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: ${props => props.bottom || '-70px'};\r\n  top: ${props => props.top || 'auto'};\r\n  transform: ${props => props.transform || 'initial'};\r\n`;\r\n\r\nexport const WaveInner = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  transform: ${props => props.transform || 'initial'};\r\n`;\r\n\r\nexport const Arc = styled.div`\r\n  position: absolute;\r\n\toverflow: hidden;\r\n\twidth: 100%;\r\n\theight: 300px;\r\n\r\n  bottom: ${props => props.bottom || 'auto'};\r\n  top: ${props => props.top || 'auto'};\r\n\r\n  &:after {\r\n    content: '';\r\n    position: absolute;\r\n  \twidth: 300%;\r\n  \theight: 300%;\r\n  \ttop: -25%;\r\n  \tleft: -100%;\r\n\r\n\r\n    ${ props => props.arcRGB && css`\r\n      \tbackground: radial-gradient(ellipse at center, ${props.arcRGB}00 0%, ${props.arcRGB}00 50%, ${props.arcRGB}ff 50%, ${props.arcRGB}ff 100%);\r\n    `};\r\n  }\r\n`\r\n\r\nexport const H1 = styled.h1`\r\n  @media (max-width: 480px) {\r\n    font-size: 2.1rem;\r\n  }\r\n`\r\n\r\nexport const H2 = styled.h2`\r\n  color: ${props => props.color || '#000'};\r\n  font-weight: ${props => props.weight || 600};\r\n  font-size: ${props => props.size || \"2rem\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  margin: ${props => props.margin || \"20px 0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  font-family: ${props => props.family || \"'Source Sans Pro', Helvetica, sans-serif\"};\r\n  text-align: ${props => props.textAlign || \"inherit\"};\r\n`\r\n\r\nexport const H3 = styled.h3`\r\n  color: ${props => props.color || 'rgb(0 0 0 / 0.5)'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"1rem\"};\r\n  text-transform: ${props => props.textTransform || \"uppercase\"};\r\n  margin: ${props => props.margin || \"-15px 0px 20px 0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"0.1em\"};\r\n  font-family: ${props => props.family || \"'Source Sans Pro', Helvetica, sans-serif\"};\r\n  text-align: ${props => props.textAlign || \"inherit\"};\r\n  max-width: ${props => props.maxWidth || 'initial'};\r\n`\r\n\r\nexport const Image = styled.img`\r\n  width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n`\r\n\r\nexport const P = styled.p`\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n\r\n  color: ${props => props.color || '#000'};\r\n  background: ${props => props.bg || 'transparent'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  margin: ${props => props.margin || \"20px 0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  text-align: ${props => props.textAlign || \"initial\"};\r\n`\r\n\r\nexport const Para = styled(P)`\r\n  font-weight: ${props => props.weight || 300};\r\n  letter-spacing: ${props => props.spacing || \"0.02em\"};\r\n  font-size: ${props => props.size || \"1.1em\"};\r\n  color: ${props => props.color || \"#000000ee\"};\r\n`\r\n\r\nexport const Span = styled.span`\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n\r\n  color: ${props => props.color || '#000'};\r\n  background: ${props => props.bg || 'transparent'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  margin: ${props => props.margin || \"0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  text-align: ${props => props.textAlign || \"initial\"};\r\n\r\n  position: ${props => props.pos || 'initial'};\r\n  right: ${props => props.right || 'auto'};\r\n  left: ${props => props.left || 'auto'};\r\n  bottom: ${props => props.bottom || 'auto'};\r\n  top: ${props => props.top || 'auto'};\r\n\r\n  z-index: ${props => props.z || 'auto'};\r\n`\r\n\r\nexport const B = styled.span`\r\n  color: ${props => props.color || '#000'};\r\n  font-weight: ${props => props.weight || 'bold'};\r\n`\r\n\r\nexport const UL = styled.ul`\r\n\r\n`\r\n\r\nexport const LI = styled.li`\r\n  margin: 10px 0px;\r\n`\r\n\r\nexport const Anchor = styled.a`\r\n  display: flex;\r\n  flex-direction: ${props => props.direction || 'row'};\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 400};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  color: ${props => props.color || \"#fff\"};\r\n  background: ${props => props.bg || \"transparent\"};\r\n  margin: ${props => props.margin || \"0\"};\r\n  padding: ${props => props.padding || \"10px 15px\"};\r\n  letter-spacing: ${props => props.spacing || \"0.2em\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  width: ${props => props.width || \"initial\" };\r\n\r\n  position: relative;\r\n  text-decoration: none;\r\n  overflow: ${props => props.overflow || \"hidden\"};\r\n  z-index: 3;\r\n\r\n  filter: ${props => props.filter || \"none\"};\r\n\r\n  cursor: pointer;\r\n  pointer: hand;\r\n\r\n  &:hover & {\r\n    filter: ${props => (props.filterHover ? props.filterHover : (props.hover ? props.hover : \"none\")) || \"none\"};\r\n  }\r\n\r\n  &:before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.hover || (props.bg ? props.bg : \"transparent\")};\r\n    display: none;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.hoverBG || \"#000\"};\r\n    opacity: 0;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:hover:before {\r\n    display: block;\r\n  }\r\n\r\n  &:hover:after {\r\n    opacity: 0.08;\r\n  }\r\n  &:active:after {\r\n    opacity: 0.15;\r\n  }\r\n`\r\n\r\nexport const A = styled(Anchor)`\r\n  display: inline;\r\n  color: #e1087f;\r\n  background: transparent;\r\n  padding: 0px;\r\n  letter-spacing: inherit;\r\n  text-transform: initial;\r\n`\r\n\r\nexport const Button = styled.button`\r\n  display: flex;\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 400};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  color: ${props => props.color || \"#fff\"};\r\n  background: ${props => props.bg || \"tranparent\"};\r\n  margin: ${props => props.margin || \"0\"};\r\n  padding: ${props => props.padding || \"10px 15px\"};\r\n  letter-spacing: ${props => props.spacing || \"initial\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  text-transform: ${props => props.textTransform || \"initial\"};\r\n\r\n  position: relative;\r\n  text-decoration: none;\r\n  overflow: ${props => props.overflow || \"hidden\"};\r\n  z-index: 3;\r\n\r\n  cursor: pointer;\r\n  pointer: hand;\r\n\r\n  &:before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.hover || (props.bg ? props.bg : \"transparent\")};\r\n    display: none;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.hoverBG || \"#000\"};\r\n    opacity: 0;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:hover:before {\r\n    display: block;\r\n  }\r\n\r\n  &:hover:after {\r\n    opacity: 0.08;\r\n  }\r\n  &:active:after {\r\n    opacity: 0.15;\r\n  }\r\n\r\n  & > div {\r\n    display: flex;\r\n  }\r\n`\r\n\r\nexport const Showoff = styled.div`\r\n  position: absolute;\r\n  right: ${props => props.right || 'auto'};\r\n  left: ${props => props.left || 'auto'};\r\n  bottom: ${props => props.bottom || 'auto'};\r\n  top: ${props => props.top || 'auto'};\r\n  transform: ${props => props.transform || 'initial'};\r\n  opacity: ${props => props.opacity || 'initial'};\r\n\r\n  @media (max-width: 768px) {\r\n    align-items: ${props => (props.tabletAlign ? props.tabletAlign : (props.align ? props.align : \"center\")) || \"center\"};\r\n\r\n    right: ${props => (props.tabletRight ? props.tabletRight : (props.right ? props.right : \"auto\")) || \"auto\"};\r\n    left: ${props => (props.tabletLeft ? props.tabletLeft : (props.left ? props.left : \"auto\")) || \"auto\"};\r\n    top: ${props => (props.tabletTop ? props.tabletTop : (props.top ? props.top : \"auto\")) || \"auto\"};\r\n    bottom: ${props => (props.tabletBottom ? props.tabletBottom : (props.bottom ? props.bottom : \"auto\")) || \"auto\"};\r\n\r\n    transform: ${props => (props.tabletTransform ? props.tabletTransform : (props.transform ? props.transform : \"auto\")) || \"auto\"};\r\n\r\n    opacity: ${props => (props.tabletOpacity ? props.tabletOpacity : (props.opacity ? props.opacity : \"auto\")) || \"initial\"};\r\n  }\r\n`\r\n\r\nexport const FormSubmision = styled.form`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: column;\r\n\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 400};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  color: ${props => props.color || \"#fff\"};\r\n  background: ${props => props.bg || \"transparent\"};\r\n  margin: ${props => props.margin || \"0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  position: relative;\r\n`\r\n\r\nexport const Input = styled.input`\r\n  display: ${props => props.display || 'flex'};\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  color: ${props => props.color || \"#000\"};\r\n  background: ${props => props.bg || \"transparent\"};\r\n  margin: ${props => props.margin || \"0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  outline: ${props => props.outline || \"none\"};\r\n  overflow: ${props => props.overflow || \"hidden\"};\r\n  position: relative;\r\n\r\n  cursor: ${props => props.cursor || \"initial\"};\r\n  pointer: ${props => props.hand || \"initial\"};\r\n\r\n  &:focus + span {\r\n    opacity: 0;\r\n\r\n    -webkit-transition: all 0.2s ease-in-out;\r\n    -moz-transition: all 0.2s ease-in-out;\r\n    -o-transition: all 0.2s ease-in-out;\r\n    transition: all 0.2s ease-in-out;\r\n  }\r\n`\r\n\r\nexport const TextField = styled.textarea`\r\n  display: flex;\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  color: ${props => props.color || \"#000\"};\r\n  background: ${props => props.bg || \"transparent\"};\r\n  margin: ${props => props.margin || \"0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  outline: ${props => props.outline || \"none\"};\r\n  overflow: ${props => props.overflow || \"hidden\"};\r\n  position: relative;\r\n  resize: vertical;\r\n\r\n  &:focus + span {\r\n    opacity: 0;\r\n\r\n    -webkit-transition: all 0.2s ease-in-out;\r\n    -moz-transition: all 0.2s ease-in-out;\r\n    -o-transition: all 0.2s ease-in-out;\r\n    transition: all 0.2s ease-in-out;\r\n  }\r\n`\r\n"],"sourceRoot":""}